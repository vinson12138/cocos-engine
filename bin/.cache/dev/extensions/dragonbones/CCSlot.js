
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/extensions/dragonbones/CCSlot.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

var _mat = _interopRequireDefault(require("../../cocos2d/core/value-types/mat4"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/****************************************************************************
 Copyright (c) 2016 Chukong Technologies Inc.
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 http://www.cocos2d-x.org

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/
var BinaryOffset = dragonBones.BinaryOffset;
var BoneType = dragonBones.BoneType;
dragonBones.CCSlot = cc.Class({
  name: 'dragonBones.CCSlot',
  "extends": dragonBones.Slot,
  ctor: function ctor() {
    this._localVertices = [];
    this._indices = [];
    this._matrix = cc.mat4();
    this._worldMatrix = cc.mat4();
    this._worldMatrixDirty = true;
    this._visible = false;
    this._color = cc.color();
  },
  _onClear: function _onClear() {
    this._super();

    this._localVertices.length = 0;
    this._indices.length = 0;

    _mat["default"].identity(this._matrix);

    _mat["default"].identity(this._worldMatrix);

    this._worldMatrixDirty = true;
    this._color = cc.color();
    this._visible = false;
  },
  statics: {
    toString: function toString() {
      return "[class dragonBones.CCSlot]";
    }
  },
  // just for adapt to dragonbones api,no need to do any thing
  _onUpdateDisplay: function _onUpdateDisplay() {},
  // just for adapt to dragonbones api,no need to do any thing
  _initDisplay: function _initDisplay(value) {},
  _addDisplay: function _addDisplay() {
    this._visible = true;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _replaceDisplay: function _replaceDisplay(value) {},
  _removeDisplay: function _removeDisplay() {
    this._visible = false;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _disposeDisplay: function _disposeDisplay(object) {},
  _updateVisible: function _updateVisible() {
    this._visible = this.parent._visible;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _updateZOrder: function _updateZOrder() {},
  _updateBlendMode: function _updateBlendMode() {
    if (this._childArmature) {
      var childSlots = this._childArmature.getSlots();

      for (var i = 0, l = childSlots.length; i < l; i++) {
        var slot = childSlots[i];
        slot._blendMode = this._blendMode;

        slot._updateBlendMode();
      }
    }
  },
  _updateColor: function _updateColor() {
    var c = this._color;
    c.r = this._colorTransform.redMultiplier * 255;
    c.g = this._colorTransform.greenMultiplier * 255;
    c.b = this._colorTransform.blueMultiplier * 255;
    c.a = this._colorTransform.alphaMultiplier * 255;
  },
  //return dragonBones.CCTexture2D
  getTexture: function getTexture() {
    return this._textureData && this._textureData.spriteFrame && this._textureData.spriteFrame.getTexture();
  },
  _updateFrame: function _updateFrame() {
    this._indices.length = 0;
    var indices = this._indices,
        localVertices = this._localVertices;
    var indexOffset = 0,
        vfOffset = 0;
    var currentTextureData = this._textureData;
    if (!this._display || this._displayIndex < 0 || !currentTextureData || !currentTextureData.spriteFrame) return;
    var texture = currentTextureData.spriteFrame.getTexture();
    var textureAtlasWidth = texture.width;
    var textureAtlasHeight = texture.height;
    var region = currentTextureData.region;
    var currentVerticesData = this._deformVertices !== null && this._display === this._meshDisplay ? this._deformVertices.verticesData : null;

    if (currentVerticesData) {
      var data = currentVerticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexCount];
      var triangleCount = intArray[currentVerticesData.offset + BinaryOffset.MeshTriangleCount];
      var vertexOffset = intArray[currentVerticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug. 
      }

      var uvOffset = vertexOffset + vertexCount * 2;
      var scale = this._armature._armatureData.scale;

      for (var i = 0, l = vertexCount * 2; i < l; i += 2) {
        localVertices[vfOffset++] = floatArray[vertexOffset + i] * scale;
        localVertices[vfOffset++] = -floatArray[vertexOffset + i + 1] * scale;

        if (currentVerticesData.rotated) {
          localVertices[vfOffset++] = (region.x + (1.0 - floatArray[uvOffset + i]) * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        } else {
          localVertices[vfOffset++] = (region.x + floatArray[uvOffset + i] * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        }
      }

      for (var _i = 0; _i < triangleCount * 3; ++_i) {
        indices[indexOffset++] = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexIndices + _i];
      }

      localVertices.length = vfOffset;
      indices.length = indexOffset;
      var isSkinned = !!currentVerticesData.weight;

      if (isSkinned) {
        this._identityTransform();
      }
    } else {
      var _l = region.x / textureAtlasWidth;

      var b = (region.y + region.height) / textureAtlasHeight;
      var r = (region.x + region.width) / textureAtlasWidth;
      var t = region.y / textureAtlasHeight;
      localVertices[vfOffset++] = 0; // 0x

      localVertices[vfOffset++] = 0; // 0y

      localVertices[vfOffset++] = _l; // 0u

      localVertices[vfOffset++] = b; // 0v

      localVertices[vfOffset++] = region.width; // 1x

      localVertices[vfOffset++] = 0; // 1y

      localVertices[vfOffset++] = r; // 1u

      localVertices[vfOffset++] = b; // 1v

      localVertices[vfOffset++] = 0; // 2x

      localVertices[vfOffset++] = region.height;
      ; // 2y

      localVertices[vfOffset++] = _l; // 2u

      localVertices[vfOffset++] = t; // 2v

      localVertices[vfOffset++] = region.width; // 3x

      localVertices[vfOffset++] = region.height;
      ; // 3y

      localVertices[vfOffset++] = r; // 3u

      localVertices[vfOffset++] = t; // 3v

      indices[0] = 0;
      indices[1] = 1;
      indices[2] = 2;
      indices[3] = 1;
      indices[4] = 3;
      indices[5] = 2;
      localVertices.length = vfOffset;
      indices.length = 6;
    }

    this._visibleDirty = true;
    this._blendModeDirty = true;
    this._colorDirty = true;
  },
  _updateMesh: function _updateMesh() {
    var scale = this._armature._armatureData.scale;
    var deformVertices = this._deformVertices.vertices;
    var bones = this._deformVertices.bones;
    var verticesData = this._deformVertices.verticesData;
    var weightData = verticesData.weight;
    var hasDeform = deformVertices.length > 0 && verticesData.inheritDeform;
    var localVertices = this._localVertices;

    if (weightData) {
      var data = verticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var weightFloatOffset = intArray[weightData.offset + BinaryOffset.WeigthFloatOffset];

      if (weightFloatOffset < 0) {
        weightFloatOffset += 65536; // Fixed out of bouds bug. 
      }

      for (var i = 0, iB = weightData.offset + BinaryOffset.WeigthBoneIndices + bones.length, iV = weightFloatOffset, iF = 0, lvi = 0; i < vertexCount; i++, lvi += 4) {
        var boneCount = intArray[iB++];
        var xG = 0.0,
            yG = 0.0;

        for (var j = 0; j < boneCount; ++j) {
          var boneIndex = intArray[iB++];
          var bone = bones[boneIndex];

          if (bone !== null) {
            var matrix = bone.globalTransformMatrix;
            var weight = floatArray[iV++];
            var xL = floatArray[iV++] * scale;
            var yL = floatArray[iV++] * scale;

            if (hasDeform) {
              xL += deformVertices[iF++];
              yL += deformVertices[iF++];
            }

            xG += (matrix.a * xL + matrix.c * yL + matrix.tx) * weight;
            yG += (matrix.b * xL + matrix.d * yL + matrix.ty) * weight;
          }
        }

        localVertices[lvi] = xG;
        localVertices[lvi + 1] = -yG;
      }
    } else if (hasDeform) {
      var isSurface = this._parent._boneData.type !== BoneType.Bone;
      var _data = verticesData.data;
      var _intArray = _data.intArray;
      var _floatArray = _data.floatArray;
      var _vertexCount = _intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var vertexOffset = _intArray[verticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug. 
      }

      for (var _i2 = 0, l = _vertexCount, _lvi = 0; _i2 < l; _i2++, _lvi += 4) {
        var x = _floatArray[vertexOffset + _i2 * 2] * scale + deformVertices[_i2 * 2];
        var y = _floatArray[vertexOffset + _i2 * 2 + 1] * scale + deformVertices[_i2 * 2 + 1];

        if (isSurface) {
          var _matrix = this._parent._getGlobalTransformMatrix(x, y);

          localVertices[_lvi] = _matrix.a * x + _matrix.c * y + _matrix.tx;
          localVertices[_lvi + 1] = -_matrix.b * x + _matrix.d * y + _matrix.ty;
        } else {
          localVertices[_lvi] = x;
          localVertices[_lvi + 1] = -y;
        }
      }
    }

    if (weightData) {
      this._identityTransform();
    }
  },
  _identityTransform: function _identityTransform() {
    var m = this._matrix.m;
    m[0] = 1.0;
    m[1] = 0.0;
    m[4] = -0.0;
    m[5] = -1.0;
    m[12] = 0.0;
    m[13] = 0.0;
    this._worldMatrixDirty = true;
  },
  _updateTransform: function _updateTransform() {
    var t = this._matrix;
    var tm = t.m;
    tm[0] = this.globalTransformMatrix.a;
    tm[1] = this.globalTransformMatrix.b;
    tm[4] = -this.globalTransformMatrix.c;
    tm[5] = -this.globalTransformMatrix.d;

    if (this._childArmature) {
      tm[12] = this.globalTransformMatrix.tx;
      tm[13] = this.globalTransformMatrix.ty;
    } else {
      tm[12] = this.globalTransformMatrix.tx - (this.globalTransformMatrix.a * this._pivotX - this.globalTransformMatrix.c * this._pivotY);
      tm[13] = this.globalTransformMatrix.ty - (this.globalTransformMatrix.b * this._pivotX - this.globalTransformMatrix.d * this._pivotY);
    }

    this._worldMatrixDirty = true;
  },
  updateWorldMatrix: function updateWorldMatrix() {
    if (!this._armature) return;
    var parentSlot = this._armature._parent;

    if (parentSlot) {
      parentSlot.updateWorldMatrix();
    }

    if (this._worldMatrixDirty) {
      this.calculWorldMatrix();
      var childArmature = this.childArmature;
      if (!childArmature) return;
      var slots = childArmature.getSlots();

      for (var i = 0, n = slots.length; i < n; i++) {
        var slot = slots[i];

        if (slot) {
          slot._worldMatrixDirty = true;
        }
      }
    }
  },
  _mulMat: function _mulMat(out, a, b) {
    var am = a.m,
        bm = b.m,
        outm = out.m;
    var aa = am[0],
        ab = am[1],
        ac = am[4],
        ad = am[5],
        atx = am[12],
        aty = am[13];
    var ba = bm[0],
        bb = bm[1],
        bc = bm[4],
        bd = bm[5],
        btx = bm[12],
        bty = bm[13];

    if (ab !== 0 || ac !== 0) {
      outm[0] = ba * aa + bb * ac;
      outm[1] = ba * ab + bb * ad;
      outm[4] = bc * aa + bd * ac;
      outm[5] = bc * ab + bd * ad;
      outm[12] = aa * btx + ac * bty + atx;
      outm[13] = ab * btx + ad * bty + aty;
    } else {
      outm[0] = ba * aa;
      outm[1] = bb * ad;
      outm[4] = bc * aa;
      outm[5] = bd * ad;
      outm[12] = aa * btx + atx;
      outm[13] = ad * bty + aty;
    }
  },
  calculWorldMatrix: function calculWorldMatrix() {
    var parent = this._armature._parent;

    if (parent) {
      this._mulMat(this._worldMatrix, parent._worldMatrix, this._matrix);
    } else {
      _mat["default"].copy(this._worldMatrix, this._matrix);
    }

    this._worldMatrixDirty = false;
  }
});
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvZXh0ZW5zaW9ucy9kcmFnb25ib25lcy9DQ1Nsb3QuanMiXSwibmFtZXMiOlsiQmluYXJ5T2Zmc2V0IiwiZHJhZ29uQm9uZXMiLCJCb25lVHlwZSIsIkNDU2xvdCIsImNjIiwiQ2xhc3MiLCJuYW1lIiwiU2xvdCIsImN0b3IiLCJfbG9jYWxWZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX21hdHJpeCIsIm1hdDQiLCJfd29ybGRNYXRyaXgiLCJfd29ybGRNYXRyaXhEaXJ0eSIsIl92aXNpYmxlIiwiX2NvbG9yIiwiY29sb3IiLCJfb25DbGVhciIsIl9zdXBlciIsImxlbmd0aCIsIk1hdDQiLCJpZGVudGl0eSIsInN0YXRpY3MiLCJ0b1N0cmluZyIsIl9vblVwZGF0ZURpc3BsYXkiLCJfaW5pdERpc3BsYXkiLCJ2YWx1ZSIsIl9hZGREaXNwbGF5IiwiX3JlcGxhY2VEaXNwbGF5IiwiX3JlbW92ZURpc3BsYXkiLCJfZGlzcG9zZURpc3BsYXkiLCJvYmplY3QiLCJfdXBkYXRlVmlzaWJsZSIsInBhcmVudCIsIl91cGRhdGVaT3JkZXIiLCJfdXBkYXRlQmxlbmRNb2RlIiwiX2NoaWxkQXJtYXR1cmUiLCJjaGlsZFNsb3RzIiwiZ2V0U2xvdHMiLCJpIiwibCIsInNsb3QiLCJfYmxlbmRNb2RlIiwiX3VwZGF0ZUNvbG9yIiwiYyIsInIiLCJfY29sb3JUcmFuc2Zvcm0iLCJyZWRNdWx0aXBsaWVyIiwiZyIsImdyZWVuTXVsdGlwbGllciIsImIiLCJibHVlTXVsdGlwbGllciIsImEiLCJhbHBoYU11bHRpcGxpZXIiLCJnZXRUZXh0dXJlIiwiX3RleHR1cmVEYXRhIiwic3ByaXRlRnJhbWUiLCJfdXBkYXRlRnJhbWUiLCJpbmRpY2VzIiwibG9jYWxWZXJ0aWNlcyIsImluZGV4T2Zmc2V0IiwidmZPZmZzZXQiLCJjdXJyZW50VGV4dHVyZURhdGEiLCJfZGlzcGxheSIsIl9kaXNwbGF5SW5kZXgiLCJ0ZXh0dXJlIiwidGV4dHVyZUF0bGFzV2lkdGgiLCJ3aWR0aCIsInRleHR1cmVBdGxhc0hlaWdodCIsImhlaWdodCIsInJlZ2lvbiIsImN1cnJlbnRWZXJ0aWNlc0RhdGEiLCJfZGVmb3JtVmVydGljZXMiLCJfbWVzaERpc3BsYXkiLCJ2ZXJ0aWNlc0RhdGEiLCJkYXRhIiwiaW50QXJyYXkiLCJmbG9hdEFycmF5IiwidmVydGV4Q291bnQiLCJvZmZzZXQiLCJNZXNoVmVydGV4Q291bnQiLCJ0cmlhbmdsZUNvdW50IiwiTWVzaFRyaWFuZ2xlQ291bnQiLCJ2ZXJ0ZXhPZmZzZXQiLCJNZXNoRmxvYXRPZmZzZXQiLCJ1dk9mZnNldCIsInNjYWxlIiwiX2FybWF0dXJlIiwiX2FybWF0dXJlRGF0YSIsInJvdGF0ZWQiLCJ4IiwieSIsIk1lc2hWZXJ0ZXhJbmRpY2VzIiwiaXNTa2lubmVkIiwid2VpZ2h0IiwiX2lkZW50aXR5VHJhbnNmb3JtIiwidCIsIl92aXNpYmxlRGlydHkiLCJfYmxlbmRNb2RlRGlydHkiLCJfY29sb3JEaXJ0eSIsIl91cGRhdGVNZXNoIiwiZGVmb3JtVmVydGljZXMiLCJ2ZXJ0aWNlcyIsImJvbmVzIiwid2VpZ2h0RGF0YSIsImhhc0RlZm9ybSIsImluaGVyaXREZWZvcm0iLCJ3ZWlnaHRGbG9hdE9mZnNldCIsIldlaWd0aEZsb2F0T2Zmc2V0IiwiaUIiLCJXZWlndGhCb25lSW5kaWNlcyIsImlWIiwiaUYiLCJsdmkiLCJib25lQ291bnQiLCJ4RyIsInlHIiwiaiIsImJvbmVJbmRleCIsImJvbmUiLCJtYXRyaXgiLCJnbG9iYWxUcmFuc2Zvcm1NYXRyaXgiLCJ4TCIsInlMIiwidHgiLCJkIiwidHkiLCJpc1N1cmZhY2UiLCJfcGFyZW50IiwiX2JvbmVEYXRhIiwidHlwZSIsIkJvbmUiLCJfZ2V0R2xvYmFsVHJhbnNmb3JtTWF0cml4IiwibSIsIl91cGRhdGVUcmFuc2Zvcm0iLCJ0bSIsIl9waXZvdFgiLCJfcGl2b3RZIiwidXBkYXRlV29ybGRNYXRyaXgiLCJwYXJlbnRTbG90IiwiY2FsY3VsV29ybGRNYXRyaXgiLCJjaGlsZEFybWF0dXJlIiwic2xvdHMiLCJuIiwiX211bE1hdCIsIm91dCIsImFtIiwiYm0iLCJvdXRtIiwiYWEiLCJhYiIsImFjIiwiYWQiLCJhdHgiLCJhdHkiLCJiYSIsImJiIiwiYmMiLCJiZCIsImJ0eCIsImJ0eSIsImNvcHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUF5QkE7Ozs7QUF6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUEsSUFBTUEsWUFBWSxHQUFHQyxXQUFXLENBQUNELFlBQWpDO0FBQ0EsSUFBTUUsUUFBUSxHQUFJRCxXQUFXLENBQUNDLFFBQTlCO0FBRUFELFdBQVcsQ0FBQ0UsTUFBWixHQUFxQkMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDMUJDLEVBQUFBLElBQUksRUFBRSxvQkFEb0I7QUFFMUIsYUFBU0wsV0FBVyxDQUFDTSxJQUZLO0FBSTFCQyxFQUFBQSxJQUowQixrQkFJbEI7QUFDSixTQUFLQyxjQUFMLEdBQXNCLEVBQXRCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFNBQUtDLE9BQUwsR0FBZVAsRUFBRSxDQUFDUSxJQUFILEVBQWY7QUFDQSxTQUFLQyxZQUFMLEdBQW9CVCxFQUFFLENBQUNRLElBQUgsRUFBcEI7QUFDQSxTQUFLRSxpQkFBTCxHQUF5QixJQUF6QjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxTQUFLQyxNQUFMLEdBQWNaLEVBQUUsQ0FBQ2EsS0FBSCxFQUFkO0FBQ0gsR0FaeUI7QUFjMUJDLEVBQUFBLFFBZDBCLHNCQWNkO0FBQ1IsU0FBS0MsTUFBTDs7QUFDQSxTQUFLVixjQUFMLENBQW9CVyxNQUFwQixHQUE2QixDQUE3QjtBQUNBLFNBQUtWLFFBQUwsQ0FBY1UsTUFBZCxHQUF1QixDQUF2Qjs7QUFDQUMsb0JBQUtDLFFBQUwsQ0FBYyxLQUFLWCxPQUFuQjs7QUFD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KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwOi8vd3d3LmNvY29zMmQteC5vcmdcblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBNYXQ0IGZyb20gJy4uLy4uL2NvY29zMmQvY29yZS92YWx1ZS10eXBlcy9tYXQ0JztcblxuY29uc3QgQmluYXJ5T2Zmc2V0ID0gZHJhZ29uQm9uZXMuQmluYXJ5T2Zmc2V0O1xuY29uc3QgQm9uZVR5cGUgID0gZHJhZ29uQm9uZXMuQm9uZVR5cGU7XG5cbmRyYWdvbkJvbmVzLkNDU2xvdCA9IGNjLkNsYXNzKHtcbiAgICBuYW1lOiAnZHJhZ29uQm9uZXMuQ0NTbG90JyxcbiAgICBleHRlbmRzOiBkcmFnb25Cb25lcy5TbG90LFxuXG4gICAgY3RvciAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsVmVydGljZXMgPSBbXTtcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IFtdO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBjYy5tYXQ0KCk7XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4ID0gY2MubWF0NCgpO1xuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNjLmNvbG9yKCk7XG4gICAgfSxcblxuICAgIF9vbkNsZWFyICgpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbG9jYWxWZXJ0aWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIE1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcbiAgICAgICAgTWF0NC5pZGVudGl0eSh0aGlzLl93b3JsZE1hdHJpeCk7XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNjLmNvbG9yKCk7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgc3RhdGljcyA6IHtcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIltjbGFzcyBkcmFnb25Cb25lcy5DQ1Nsb3RdXCI7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXG4gICAgX29uVXBkYXRlRGlzcGxheSAoKSB7XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGFkYXB0IHRvIGRyYWdvbmJvbmVzIGFwaSxubyBuZWVkIHRvIGRvIGFueSB0aGluZ1xuICAgIF9pbml0RGlzcGxheSAodmFsdWUpIHtcbiAgICB9LFxuXG4gICAgX2FkZERpc3BsYXkgKCkge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXG4gICAgX3JlcGxhY2VEaXNwbGF5ICh2YWx1ZSkge1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlRGlzcGxheSAoKSB7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXG4gICAgX2Rpc3Bvc2VEaXNwbGF5IChvYmplY3QpIHtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZVZpc2libGUgKCkge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdGhpcy5wYXJlbnQuX3Zpc2libGU7XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGFkYXB0IHRvIGRyYWdvbmJvbmVzIGFwaSxubyBuZWVkIHRvIGRvIGFueSB0aGluZ1xuICAgIF91cGRhdGVaT3JkZXIgKCkge1xuICAgIH0sXG5cbiAgICBfdXBkYXRlQmxlbmRNb2RlICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoaWxkQXJtYXR1cmUpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZFNsb3RzID0gdGhpcy5fY2hpbGRBcm1hdHVyZS5nZXRTbG90cygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZFNsb3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzbG90ID0gY2hpbGRTbG90c1tpXTtcbiAgICAgICAgICAgICAgICBzbG90Ll9ibGVuZE1vZGUgPSB0aGlzLl9ibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgc2xvdC5fdXBkYXRlQmxlbmRNb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3VwZGF0ZUNvbG9yICgpIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLl9jb2xvcjtcbiAgICAgICAgYy5yID0gdGhpcy5fY29sb3JUcmFuc2Zvcm0ucmVkTXVsdGlwbGllciAqIDI1NTtcbiAgICAgICAgYy5nID0gdGhpcy5fY29sb3JUcmFuc2Zvcm0uZ3JlZW5NdWx0aXBsaWVyICogMjU1O1xuICAgICAgICBjLmIgPSB0aGlzLl9jb2xvclRyYW5zZm9ybS5ibHVlTXVsdGlwbGllciAqIDI1NTtcbiAgICAgICAgYy5hID0gdGhpcy5fY29sb3JUcmFuc2Zvcm0uYWxwaGFNdWx0aXBsaWVyICogMjU1O1xuICAgIH0sXG5cbiAgICAvL3JldHVybiBkcmFnb25Cb25lcy5DQ1RleHR1cmUyRFxuICAgIGdldFRleHR1cmUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZURhdGEgJiYgdGhpcy5fdGV4dHVyZURhdGEuc3ByaXRlRnJhbWUgJiYgdGhpcy5fdGV4dHVyZURhdGEuc3ByaXRlRnJhbWUuZ2V0VGV4dHVyZSgpO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlRnJhbWUgKCkge1xuICAgICAgICB0aGlzLl9pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBpbmRpY2VzID0gdGhpcy5faW5kaWNlcyxcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXMgPSB0aGlzLl9sb2NhbFZlcnRpY2VzO1xuICAgICAgICBsZXQgaW5kZXhPZmZzZXQgPSAwLCB2Zk9mZnNldCA9IDA7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRUZXh0dXJlRGF0YSA9IHRoaXMuX3RleHR1cmVEYXRhO1xuICAgICAgICBpZiAoIXRoaXMuX2Rpc3BsYXkgfHwgdGhpcy5fZGlzcGxheUluZGV4IDwgMCB8fCAhY3VycmVudFRleHR1cmVEYXRhIHx8ICFjdXJyZW50VGV4dHVyZURhdGEuc3ByaXRlRnJhbWUpIHJldHVybjtcblxuICAgICAgICBsZXQgdGV4dHVyZSA9IGN1cnJlbnRUZXh0dXJlRGF0YS5zcHJpdGVGcmFtZS5nZXRUZXh0dXJlKCk7XG4gICAgICAgIGxldCB0ZXh0dXJlQXRsYXNXaWR0aCA9IHRleHR1cmUud2lkdGg7XG4gICAgICAgIGxldCB0ZXh0dXJlQXRsYXNIZWlnaHQgPSB0ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgbGV0IHJlZ2lvbiA9IGN1cnJlbnRUZXh0dXJlRGF0YS5yZWdpb247XG5cbiAgICAgICAgY29uc3QgY3VycmVudFZlcnRpY2VzRGF0YSA9ICh0aGlzLl9kZWZvcm1WZXJ0aWNlcyAhPT0gbnVsbCAmJiB0aGlzLl9kaXNwbGF5ID09PSB0aGlzLl9tZXNoRGlzcGxheSkgPyB0aGlzLl9kZWZvcm1WZXJ0aWNlcy52ZXJ0aWNlc0RhdGEgOiBudWxsO1xuICAgICAgICBcbiAgICAgICAgaWYgKGN1cnJlbnRWZXJ0aWNlc0RhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBjdXJyZW50VmVydGljZXNEYXRhLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBpbnRBcnJheSA9IGRhdGEuaW50QXJyYXk7XG4gICAgICAgICAgICBjb25zdCBmbG9hdEFycmF5ID0gZGF0YS5mbG9hdEFycmF5O1xuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSBpbnRBcnJheVtjdXJyZW50VmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoVmVydGV4Q291bnRdO1xuICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVDb3VudCA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hUcmlhbmdsZUNvdW50XTtcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSBpbnRBcnJheVtjdXJyZW50VmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoRmxvYXRPZmZzZXRdO1xuXG4gICAgICAgICAgICBpZiAodmVydGV4T2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIHZlcnRleE9mZnNldCArPSA2NTUzNjsgLy8gRml4ZWQgb3V0IG9mIGJvdWRzIGJ1Zy4gXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHV2T2Zmc2V0ID0gdmVydGV4T2Zmc2V0ICsgdmVydGV4Q291bnQgKiAyO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9hcm1hdHVyZS5fYXJtYXR1cmVEYXRhLnNjYWxlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHZlcnRleENvdW50ICogMjsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBmbG9hdEFycmF5W3ZlcnRleE9mZnNldCArIGldICogc2NhbGU7XG4gICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IC1mbG9hdEFycmF5W3ZlcnRleE9mZnNldCArIGkgKyAxXSAqIHNjYWxlOyAgXG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZlcnRpY2VzRGF0YS5yb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAocmVnaW9uLnggKyAoMS4wIC0gZmxvYXRBcnJheVt1dk9mZnNldCArIGldKSAqIHJlZ2lvbi53aWR0aCkgLyB0ZXh0dXJlQXRsYXNXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IChyZWdpb24ueSArIGZsb2F0QXJyYXlbdXZPZmZzZXQgKyBpICsgMV0gKiByZWdpb24uaGVpZ2h0KSAvIHRleHR1cmVBdGxhc0hlaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gKHJlZ2lvbi54ICsgZmxvYXRBcnJheVt1dk9mZnNldCArIGldICogcmVnaW9uLndpZHRoKSAvIHRleHR1cmVBdGxhc1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gKHJlZ2lvbi55ICsgZmxvYXRBcnJheVt1dk9mZnNldCArIGkgKyAxXSAqIHJlZ2lvbi5oZWlnaHQpIC8gdGV4dHVyZUF0bGFzSGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZUNvdW50ICogMzsgKytpKSB7XG4gICAgICAgICAgICAgICAgaW5kaWNlc1tpbmRleE9mZnNldCsrXSA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhJbmRpY2VzICsgaV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvY2FsVmVydGljZXMubGVuZ3RoID0gdmZPZmZzZXQ7XG4gICAgICAgICAgICBpbmRpY2VzLmxlbmd0aCA9IGluZGV4T2Zmc2V0O1xuXG4gICAgICAgICAgICBsZXQgaXNTa2lubmVkID0gISFjdXJyZW50VmVydGljZXNEYXRhLndlaWdodDtcbiAgICAgICAgICAgIGlmIChpc1NraW5uZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pZGVudGl0eVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGwgPSByZWdpb24ueCAvIHRleHR1cmVBdGxhc1dpZHRoO1xuICAgICAgICAgICAgbGV0IGIgPSAocmVnaW9uLnkgKyByZWdpb24uaGVpZ2h0KSAvIHRleHR1cmVBdGxhc0hlaWdodDtcbiAgICAgICAgICAgIGxldCByID0gKHJlZ2lvbi54ICsgcmVnaW9uLndpZHRoKSAvIHRleHR1cmVBdGxhc1dpZHRoO1xuICAgICAgICAgICAgbGV0IHQgPSByZWdpb24ueSAvIHRleHR1cmVBdGxhc0hlaWdodDtcblxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IDA7IC8vIDB4XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gMDsgLy8gMHlcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBsOyAvLyAwdVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IGI7IC8vIDB2XG5cbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByZWdpb24ud2lkdGg7IC8vIDF4XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gMDsgLy8gMXlcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByOyAvLyAxdVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IGI7IC8vIDF2XG5cbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAwOyAvLyAyeFxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHJlZ2lvbi5oZWlnaHQ7OyAvLyAyeVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IGw7IC8vIDJ1XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gdDsgLy8gMnZcblxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHJlZ2lvbi53aWR0aDsgLy8gM3hcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByZWdpb24uaGVpZ2h0OzsgLy8gM3lcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByOyAvLyAzdVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHQ7IC8vIDN2XG5cbiAgICAgICAgICAgIGluZGljZXNbMF0gPSAwO1xuICAgICAgICAgICAgaW5kaWNlc1sxXSA9IDE7XG4gICAgICAgICAgICBpbmRpY2VzWzJdID0gMjtcbiAgICAgICAgICAgIGluZGljZXNbM10gPSAxO1xuICAgICAgICAgICAgaW5kaWNlc1s0XSA9IDM7XG4gICAgICAgICAgICBpbmRpY2VzWzVdID0gMjtcblxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlcy5sZW5ndGggPSB2Zk9mZnNldDtcbiAgICAgICAgICAgIGluZGljZXMubGVuZ3RoID0gNjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Zpc2libGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2JsZW5kTW9kZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgfSxcblxuICAgIF91cGRhdGVNZXNoICgpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9hcm1hdHVyZS5fYXJtYXR1cmVEYXRhLnNjYWxlO1xuICAgICAgICBjb25zdCBkZWZvcm1WZXJ0aWNlcyA9IHRoaXMuX2RlZm9ybVZlcnRpY2VzLnZlcnRpY2VzO1xuICAgICAgICBjb25zdCBib25lcyA9IHRoaXMuX2RlZm9ybVZlcnRpY2VzLmJvbmVzO1xuICAgICAgICBjb25zdCB2ZXJ0aWNlc0RhdGEgPSB0aGlzLl9kZWZvcm1WZXJ0aWNlcy52ZXJ0aWNlc0RhdGE7XG4gICAgICAgIGNvbnN0IHdlaWdodERhdGEgPSB2ZXJ0aWNlc0RhdGEud2VpZ2h0O1xuICAgICAgICBjb25zdCBoYXNEZWZvcm0gPSBkZWZvcm1WZXJ0aWNlcy5sZW5ndGggPiAwICYmIHZlcnRpY2VzRGF0YS5pbmhlcml0RGVmb3JtO1xuXG4gICAgICAgIGxldCBsb2NhbFZlcnRpY2VzID0gdGhpcy5fbG9jYWxWZXJ0aWNlcztcbiAgICAgICAgaWYgKHdlaWdodERhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB2ZXJ0aWNlc0RhdGEuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGludEFycmF5ID0gZGF0YS5pbnRBcnJheTtcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0QXJyYXkgPSBkYXRhLmZsb2F0QXJyYXk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IGludEFycmF5W3ZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFZlcnRleENvdW50XTtcbiAgICAgICAgICAgIGxldCB3ZWlnaHRGbG9hdE9mZnNldCA9IGludEFycmF5W3dlaWdodERhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0LldlaWd0aEZsb2F0T2Zmc2V0XTtcblxuICAgICAgICAgICAgaWYgKHdlaWdodEZsb2F0T2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIHdlaWdodEZsb2F0T2Zmc2V0ICs9IDY1NTM2OyAvLyBGaXhlZCBvdXQgb2YgYm91ZHMgYnVnLiBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDAsIGlCID0gd2VpZ2h0RGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuV2VpZ3RoQm9uZUluZGljZXMgKyBib25lcy5sZW5ndGgsIGlWID0gd2VpZ2h0RmxvYXRPZmZzZXQsIGlGID0gMCwgbHZpID0gMDtcbiAgICAgICAgICAgICAgICBpIDwgdmVydGV4Q291bnQ7XG4gICAgICAgICAgICAgICAgaSsrLCBsdmkrPTRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVDb3VudCA9IGludEFycmF5W2lCKytdO1xuICAgICAgICAgICAgICAgIGxldCB4RyA9IDAuMCwgeUcgPSAwLjA7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvbmVDb3VudDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVJbmRleCA9IGludEFycmF5W2lCKytdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib25lID0gYm9uZXNbYm9uZUluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9uZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gYm9uZS5nbG9iYWxUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWlnaHQgPSBmbG9hdEFycmF5W2lWKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhMID0gZmxvYXRBcnJheVtpVisrXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlMID0gZmxvYXRBcnJheVtpVisrXSAqIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRGVmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeEwgKz0gZGVmb3JtVmVydGljZXNbaUYrK107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeUwgKz0gZGVmb3JtVmVydGljZXNbaUYrK107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHhHICs9IChtYXRyaXguYSAqIHhMICsgbWF0cml4LmMgKiB5TCArIG1hdHJpeC50eCkgKiB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB5RyArPSAobWF0cml4LmIgKiB4TCArIG1hdHJpeC5kICogeUwgKyBtYXRyaXgudHkpICogd2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmldID0geEc7XG4gICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmkgKyAxXSA9IC15RztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNEZWZvcm0pIHtcbiAgICAgICAgICAgIGNvbnN0IGlzU3VyZmFjZSA9IHRoaXMuX3BhcmVudC5fYm9uZURhdGEudHlwZSAhPT0gQm9uZVR5cGUuQm9uZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB2ZXJ0aWNlc0RhdGEuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGludEFycmF5ID0gZGF0YS5pbnRBcnJheTtcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0QXJyYXkgPSBkYXRhLmZsb2F0QXJyYXk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IGludEFycmF5W3ZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFZlcnRleENvdW50XTtcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSBpbnRBcnJheVt2ZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hGbG9hdE9mZnNldF07XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0ZXhPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IDY1NTM2OyAvLyBGaXhlZCBvdXQgb2YgYm91ZHMgYnVnLiBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB2ZXJ0ZXhDb3VudCwgbHZpID0gMDsgaSA8IGw7IGkgKyssIGx2aSArPSA0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGZsb2F0QXJyYXlbdmVydGV4T2Zmc2V0ICsgaSoyXSAqIHNjYWxlICsgZGVmb3JtVmVydGljZXNbaSoyXTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpKjIgKyAxXSAqIHNjYWxlICsgZGVmb3JtVmVydGljZXNbaSoyICsgMV07XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNTdXJmYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuX3BhcmVudC5fZ2V0R2xvYmFsVHJhbnNmb3JtTWF0cml4KHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW2x2aV0gPSBtYXRyaXguYSAqIHggKyBtYXRyaXguYyAqIHkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpICsgMV0gPSAtbWF0cml4LmIgKiB4ICsgbWF0cml4LmQgKiB5ICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmldID0geDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmkgKyAxXSA9IC15O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWlnaHREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eVRyYW5zZm9ybSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9pZGVudGl0eVRyYW5zZm9ybSgpIHtcbiAgICAgICAgbGV0IG0gPSB0aGlzLl9tYXRyaXgubTtcbiAgICAgICAgbVswXSA9IDEuMDtcbiAgICAgICAgbVsxXSA9IDAuMDtcbiAgICAgICAgbVs0XSA9IC0wLjA7XG4gICAgICAgIG1bNV0gPSAtMS4wO1xuICAgICAgICBtWzEyXSA9IDAuMDtcbiAgICAgICAgbVsxM10gPSAwLjA7XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlVHJhbnNmb3JtICgpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGxldCB0bSA9IHQubTtcbiAgICAgICAgdG1bMF0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5hO1xuICAgICAgICB0bVsxXSA9IHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmI7XG4gICAgICAgIHRtWzRdID0gLXRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmM7XG4gICAgICAgIHRtWzVdID0gLXRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NoaWxkQXJtYXR1cmUpIHtcbiAgICAgICAgICAgIHRtWzEyXSA9IHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LnR4O1xuICAgICAgICAgICAgdG1bMTNdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXgudHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0bVsxMl0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eCAtICh0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5hICogdGhpcy5fcGl2b3RYIC0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYyAqIHRoaXMuX3Bpdm90WSk7XG4gICAgICAgICAgICB0bVsxM10gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eSAtICh0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5iICogdGhpcy5fcGl2b3RYIC0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguZCAqIHRoaXMuX3Bpdm90WSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd29ybGRNYXRyaXhEaXJ0eSA9IHRydWU7XG4gICAgfSxcblxuICAgIHVwZGF0ZVdvcmxkTWF0cml4ICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hcm1hdHVyZSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwYXJlbnRTbG90ID0gdGhpcy5fYXJtYXR1cmUuX3BhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudFNsb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFNsb3QudXBkYXRlV29ybGRNYXRyaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl93b3JsZE1hdHJpeERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bFdvcmxkTWF0cml4KCk7XG4gICAgICAgICAgICB2YXIgY2hpbGRBcm1hdHVyZSA9IHRoaXMuY2hpbGRBcm1hdHVyZTtcbiAgICAgICAgICAgIGlmICghY2hpbGRBcm1hdHVyZSkgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIHNsb3RzID0gY2hpbGRBcm1hdHVyZS5nZXRTbG90cygpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsbiA9IHNsb3RzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzbG90ID0gc2xvdHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xvdC5fd29ybGRNYXRyaXhEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9tdWxNYXQgKG91dCwgYSwgYikge1xuICAgICAgICBsZXQgYW0gPSBhLm0sIGJtID0gYi5tLCBvdXRtID0gb3V0Lm07XG4gICAgICAgIGxldCBhYT1hbVswXSwgYWI9YW1bMV0sIGFjPWFtWzRdLCBhZD1hbVs1XSwgYXR4PWFtWzEyXSwgYXR5PWFtWzEzXTtcbiAgICAgICAgbGV0IGJhPWJtWzBdLCBiYj1ibVsxXSwgYmM9Ym1bNF0sIGJkPWJtWzVdLCBidHg9Ym1bMTJdLCBidHk9Ym1bMTNdO1xuICAgICAgICBpZiAoYWIgIT09IDAgfHwgYWMgIT09IDApIHtcbiAgICAgICAgICAgIG91dG1bMF0gPSBiYSAqIGFhICsgYmIgKiBhYztcbiAgICAgICAgICAgIG91dG1bMV0gPSBiYSAqIGFiICsgYmIgKiBhZDtcbiAgICAgICAgICAgIG91dG1bNF0gPSBiYyAqIGFhICsgYmQgKiBhYztcbiAgICAgICAgICAgIG91dG1bNV0gPSBiYyAqIGFiICsgYmQgKiBhZDtcbiAgICAgICAgICAgIG91dG1bMTJdID0gYWEgKiBidHggKyBhYyAqIGJ0eSArIGF0eDtcbiAgICAgICAgICAgIG91dG1bMTNdID0gYWIgKiBidHggKyBhZCAqIGJ0eSArIGF0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dG1bMF0gPSBiYSAqIGFhO1xuICAgICAgICAgICAgb3V0bVsxXSA9IGJiICogYWQ7XG4gICAgICAgICAgICBvdXRtWzRdID0gYmMgKiBhYTtcbiAgICAgICAgICAgIG91dG1bNV0gPSBiZCAqIGFkO1xuICAgICAgICAgICAgb3V0bVsxMl0gPSBhYSAqIGJ0eCArIGF0eDtcbiAgICAgICAgICAgIG91dG1bMTNdID0gYWQgKiBidHkgKyBhdHk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2FsY3VsV29ybGRNYXRyaXggKCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fYXJtYXR1cmUuX3BhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fbXVsTWF0KHRoaXMuX3dvcmxkTWF0cml4ICxwYXJlbnQuX3dvcmxkTWF0cml4LCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTWF0NC5jb3B5KHRoaXMuX3dvcmxkTWF0cml4LCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSBmYWxzZTtcbiAgICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiLyJ9