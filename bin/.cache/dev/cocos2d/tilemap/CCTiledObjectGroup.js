
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/tilemap/CCTiledObjectGroup.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

/****************************************************************************
 Copyright (c) 2016 Chukong Technologies Inc.
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 https://www.cocos.com/

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated engine source code (the "Software"), a limited,
 worldwide, royalty-free, non-assignable, revocable and non-exclusive license
 to use Cocos Creator solely to develop games on your target platforms. You shall
 not use Cocos Creator software for developing other software or tools that's
 used for developing games. You are not granted to publish, distribute,
 sublicense, and/or sell copies of Cocos Creator.

 The software or tools in this License Agreement are licensed, not sold.
 Xiamen Yaji Software Co., Ltd. reserves all rights not expressly granted to you.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/

/**
 * !#en Renders the TMX object group.
 * !#zh 渲染 tmx object group。
 * @class TiledObjectGroup
 * @extends Component
 */
var TiledObjectGroup = cc.Class({
  name: 'cc.TiledObjectGroup',
  // Inherits from the abstract class directly,
  // because TiledLayer not create or maintains the sgNode by itself.
  "extends": cc.Component,

  /**
   * !#en Offset position of child objects.
   * !#zh 获取子对象的偏移位置。
   * @method getPositionOffset
   * @return {Vec2}
   * @example
   * let offset = tMXObjectGroup.getPositionOffset();
   */
  getPositionOffset: function getPositionOffset() {
    return this._positionOffset;
  },

  /**
   * !#en List of properties stored in a dictionary.
   * !#zh 以映射的形式获取属性列表。
   * @method getProperties
   * @return {Object}
   * @example
   * let offset = tMXObjectGroup.getProperties();
   */
  getProperties: function getProperties() {
    this._properties;
  },

  /**
   * !#en Gets the Group name.
   * !#zh 获取组名称。
   * @method getGroupName
   * @return {String}
   * @example
   * let groupName = tMXObjectGroup.getGroupName;
   */
  getGroupName: function getGroupName() {
    return this._groupName;
  },

  /**
   * Return the value for the specific property name
   * @param {String} propertyName
   * @return {Object}
   */
  getProperty: function getProperty(propertyName) {
    return this._properties[propertyName.toString()];
  },

  /**
   * !#en
   * Return the object for the specific object name. <br />
   * It will return the 1st object found on the array for the given name.
   * !#zh 获取指定的对象。
   * @method getObject
   * @param {String} objectName
   * @return {Object|Null}
   * @example
   * let object = tMXObjectGroup.getObject("Group");
   */
  getObject: function getObject(objectName) {
    for (var i = 0, len = this._objects.length; i < len; i++) {
      var obj = this._objects[i];

      if (obj && obj.name === objectName) {
        return obj;
      }
    } // object not found


    return null;
  },

  /**
   * !#en Gets the objects.
   * !#zh 获取对象数组。
   * @method getObjects
   * @return {Array}
   * @example
   * let objects = tMXObjectGroup.getObjects();
   */
  getObjects: function getObjects() {
    return this._objects;
  },
  _init: function _init(groupInfo, mapInfo, texGrids) {
    var TiledMap = cc.TiledMap;
    var TMXObjectType = TiledMap.TMXObjectType;
    var Orientation = TiledMap.Orientation;
    var StaggerAxis = TiledMap.StaggerAxis;
    var TileFlag = TiledMap.TileFlag;
    var FLIPPED_MASK = TileFlag.FLIPPED_MASK;
    var FLAG_HORIZONTAL = TileFlag.HORIZONTAL;
    var FLAG_VERTICAL = TileFlag.VERTICAL;
    this._groupName = groupInfo.name;
    this._positionOffset = groupInfo.offset;
    this._mapInfo = mapInfo;
    this._properties = groupInfo.getProperties();
    this._offset = cc.v2(groupInfo.offset.x, -groupInfo.offset.y);
    this._opacity = groupInfo._opacity;
    var mapSize = mapInfo._mapSize;
    var tileSize = mapInfo._tileSize;
    var width = 0,
        height = 0;

    if (mapInfo.orientation === Orientation.HEX) {
      if (mapInfo.getStaggerAxis() === StaggerAxis.STAGGERAXIS_X) {
        height = tileSize.height * (mapSize.height + 0.5);
        width = (tileSize.width + mapInfo.getHexSideLength()) * Math.floor(mapSize.width / 2) + tileSize.width * (mapSize.width % 2);
      } else {
        width = tileSize.width * (mapSize.width + 0.5);
        height = (tileSize.height + mapInfo.getHexSideLength()) * Math.floor(mapSize.height / 2) + tileSize.height * (mapSize.height % 2);
      }
    } else if (mapInfo.orientation === Orientation.ISO) {
      var wh = mapSize.width + mapSize.height;
      width = tileSize.width * 0.5 * wh;
      height = tileSize.height * 0.5 * wh;
    } else {
      width = mapSize.width * tileSize.width;
      height = mapSize.height * tileSize.height;
    }

    this.node.setContentSize(width, height);
    var leftTopX = width * this.node.anchorX;
    var leftTopY = height * (1 - this.node.anchorY);
    var objects = groupInfo._objects;
    var aliveNodes = {};

    for (var i = 0, l = objects.length; i < l; i++) {
      var object = objects[i];
      var objType = object.type;
      object.offset = cc.v2(object.x, object.y);
      var points = object.points || object.polylinePoints;

      if (points) {
        for (var pi = 0; pi < points.length; pi++) {
          points[pi].y *= -1;
        }
      }

      if (Orientation.ISO !== mapInfo.orientation) {
        object.y = height - object.y;
      } else {
        var posIdxX = object.x / tileSize.height;
        var posIdxY = object.y / tileSize.height;
        object.x = tileSize.width * 0.5 * (mapSize.height + posIdxX - posIdxY);
        object.y = tileSize.height * 0.5 * (mapSize.width + mapSize.height - posIdxX - posIdxY);
      }

      if (objType === TMXObjectType.TEXT) {
        var textName = "text" + object.id;
        aliveNodes[textName] = true;
        var textNode = this.node.getChildByName(textName);

        if (!textNode) {
          textNode = new cc.Node();
        }

        textNode.active = object.visible;
        textNode.anchorX = 0;
        textNode.anchorY = 1;
        textNode.angle = -object.rotation;
        textNode.x = object.x - leftTopX;
        textNode.y = object.y - leftTopY;
        textNode.name = textName;
        textNode.parent = this.node;
        textNode.color = object.color;
        textNode.opacity = this._opacity;
        textNode.setSiblingIndex(i);
        var label = textNode.getComponent(cc.Label);

        if (!label) {
          label = textNode.addComponent(cc.Label);
        }

        label.overflow = cc.Label.Overflow.SHRINK;
        label.lineHeight = object.height;
        label.string = object.text;
        label.horizontalAlign = object.halign;
        label.verticalAlign = object.valign;
        label.fontSize = object.pixelsize;
        textNode.width = object.width;
        textNode.height = object.height;
      }

      if (objType === TMXObjectType.IMAGE) {
        var gid = object.gid;
        var grid = texGrids[(gid & FLIPPED_MASK) >>> 0];
        if (!grid) continue;
        var tileset = grid.tileset;
        var imgName = "img" + object.id;
        aliveNodes[imgName] = true;
        var imgNode = this.node.getChildByName(imgName);
        var imgWidth = object.width || grid.width;
        var imgHeight = object.height || grid.height;
        var tileOffsetX = tileset.tileOffset.x;
        var tileOffsetY = tileset.tileOffset.y; // Delete image nodes implemented as private nodes
        // Use cc.Node to implement node-level requirements

        if (imgNode instanceof cc.PrivateNode) {
          imgNode.removeFromParent();
          imgNode.destroy();
          imgNode = null;
        }

        if (!imgNode) {
          imgNode = new cc.Node();
        }

        if (Orientation.ISO == mapInfo.orientation) {
          imgNode.anchorX = 0.5 + tileOffsetX / imgWidth;
          imgNode.anchorY = tileOffsetY / imgHeight;
        } else {
          imgNode.anchorX = tileOffsetX / imgWidth;
          imgNode.anchorY = tileOffsetY / imgHeight;
        }

        imgNode.active = object.visible;
        imgNode.angle = -object.rotation;
        imgNode.x = object.x - leftTopX;
        imgNode.y = object.y - leftTopY;
        imgNode.name = imgName;
        imgNode.parent = this.node;
        imgNode.opacity = this._opacity;
        imgNode.setSiblingIndex(i);
        var sp = imgNode.getComponent(cc.Sprite);

        if (!sp) {
          sp = imgNode.addComponent(cc.Sprite);
        }

        var spf = sp.spriteFrame;

        if (!spf) {
          spf = new cc.SpriteFrame();
        }

        if ((gid & FLAG_HORIZONTAL) >>> 0) {
          spf.setFlipX(true);
        } else {
          spf.setFlipX(false);
        }

        if ((gid & FLAG_VERTICAL) >>> 0) {
          spf.setFlipY(true);
        } else {
          spf.setFlipY(false);
        }

        spf.setTexture(grid.tileset.sourceImage, cc.rect(grid));
        sp.spriteFrame = spf;
        sp.setVertsDirty(); // object group may has no width or height info

        imgNode.width = imgWidth;
        imgNode.height = imgHeight;
      }
    }

    this._objects = objects; // destroy useless node

    var children = this.node.children;
    var uselessExp = /^(?:img|text)\d+$/;

    for (var _i = 0, n = children.length; _i < n; _i++) {
      var c = children[_i];
      var cName = c._name;
      var isUseless = uselessExp.test(cName);
      if (isUseless && !aliveNodes[cName]) c.destroy();
    }
  }
});
cc.TiledObjectGroup = module.exports = TiledObjectGroup;
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvY29jb3MyZC90aWxlbWFwL0NDVGlsZWRPYmplY3RHcm91cC5qcyJdLCJuYW1lcyI6WyJUaWxlZE9iamVjdEdyb3VwIiwiY2MiLCJDbGFzcyIsIm5hbWUiLCJDb21wb25lbnQiLCJnZXRQb3NpdGlvbk9mZnNldCIsIl9wb3NpdGlvbk9mZnNldCIsImdldFByb3BlcnRpZXMiLCJfcHJvcGVydGllcyIsImdldEdyb3VwTmFtZSIsIl9ncm91cE5hbWUiLCJnZXRQcm9wZXJ0eSIsInByb3BlcnR5TmFtZSIsInRvU3RyaW5nIiwiZ2V0T2JqZWN0Iiwib2JqZWN0TmFtZSIsImkiLCJsZW4iLCJfb2JqZWN0cyIsImxlbmd0aCIsIm9iaiIsImdldE9iamVjdHMiLCJfaW5pdCIsImdyb3VwSW5mbyIsIm1hcEluZm8iLCJ0ZXhHcmlkcyIsIlRpbGVkTWFwIiwiVE1YT2JqZWN0VHlwZSIsIk9yaWVudGF0aW9uIiwiU3RhZ2dlckF4aXMiLCJUaWxlRmxhZyIsIkZMSVBQRURfTUFTSyIsIkZMQUdfSE9SSVpPTlRBTCIsIkhPUklaT05UQUwiLCJGTEFHX1ZFUlRJQ0FMIiwiVkVSVElDQUwiLCJvZmZzZXQiLCJfbWFwSW5mbyIsIl9vZmZzZXQiLCJ2MiIsIngiLCJ5IiwiX29wYWNpdHkiLCJtYXBTaXplIiwiX21hcFNpemUiLCJ0aWxlU2l6ZSIsIl90aWxlU2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwib3JpZW50YXRpb24iLCJIRVgiLCJnZXRTdGFnZ2VyQXhpcyIsIlNUQUdHRVJBWElTX1giLCJnZXRIZXhTaWRlTGVuZ3RoIiwiTWF0aCIsImZsb29yIiwiSVNPIiwid2giLCJub2RlIiwic2V0Q29udGVudFNpemUiLCJsZWZ0VG9wWCIsImFuY2hvclgiLCJsZWZ0VG9wWSIsImFuY2hvclkiLCJvYmplY3RzIiwiYWxpdmVOb2RlcyIsImwiLCJvYmplY3QiLCJvYmpUeXBlIiwidHlwZSIsInBvaW50cyIsInBvbHlsaW5lUG9pbnRzIiwicGkiLCJwb3NJZHhYIiwicG9zSWR4WSIsIlRFWFQiLCJ0ZXh0TmFtZSIsImlkIiwidGV4dE5vZGUiLCJnZXRDaGlsZEJ5TmFtZSIsIk5vZGUiLCJhY3RpdmUiLCJ2aXNpYmxlIiwiYW5nbGUiLCJyb3RhdGlvbiIsInBhcmVudCIsImNvbG9yIiwib3BhY2l0eSIsInNldFNpYmxpbmdJbmRleCIsImxhYmVsIiwiZ2V0Q29tcG9uZW50IiwiTGFiZWwiLCJhZGRDb21wb25lbnQiLCJvdmVyZmxvdyIsIk92ZXJmbG93IiwiU0hSSU5LIiwibGluZUhlaWdodCIsInN0cmluZyIsInRleHQiLCJob3Jpem9udGFsQWxpZ24iLCJoYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwidmFsaWduIiwiZm9udFNpemUiLCJwaXhlbHNpemUiLCJJTUFHRSIsImdpZCIsImdyaWQiLCJ0aWxlc2V0IiwiaW1nTmFtZSIsImltZ05vZGUiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsInRpbGVPZmZzZXRYIiwidGlsZU9mZnNldCIsInRpbGVPZmZzZXRZIiwiUHJpdmF0ZU5vZGUiLCJyZW1vdmVGcm9tUGFyZW50IiwiZGVzdHJveSIsInNwIiwiU3ByaXRlIiwic3BmIiwic3ByaXRlRnJhbWUiLCJTcHJpdGVGcmFtZSIsInNldEZsaXBYIiwic2V0RmxpcFkiLCJzZXRUZXh0dXJlIiwic291cmNlSW1hZ2UiLCJyZWN0Iiwic2V0VmVydHNEaXJ0eSIsImNoaWxkcmVuIiwidXNlbGVzc0V4cCIsIm4iLCJjIiwiY05hbWUiLCJfbmFtZSIsImlzVXNlbGVzcyIsInRlc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSUEsZ0JBQWdCLEdBQUdD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Q0FBUXJCLElBQVIsQ0FBekM7QUFDQVksUUFBQUEsRUFBRSxDQUFDRyxXQUFILEdBQWlCRCxHQUFqQjtBQUNBRixRQUFBQSxFQUFFLENBQUNVLGFBQUgsR0FoRWlDLENBa0VqQzs7QUFDQW5CLFFBQUFBLE9BQU8sQ0FBQy9ELEtBQVIsR0FBZ0JnRSxRQUFoQjtBQUNBRCxRQUFBQSxPQUFPLENBQUM5RCxNQUFSLEdBQWlCZ0UsU0FBakI7QUFDSDtBQUNKOztBQUNELFNBQUs5RixRQUFMLEdBQWdCOEMsT0FBaEIsQ0E1S2lDLENBOEtqQzs7QUFDQSxRQUFJa0UsUUFBUSxHQUFHLEtBQUt4RSxJQUFMLENBQVV3RSxRQUF6QjtBQUNBLFFBQUlDLFVBQVUsR0FBRyxtQkFBakI7O0FBQ0EsU0FBSyxJQUFJbkgsRUFBQyxHQUFHLENBQVIsRUFBV29ILENBQUMsR0FBR0YsUUFBUSxDQUFDL0csTUFBN0IsRUFBcUNILEVBQUMsR0FBR29ILENBQXpDLEVBQTRDcEgsRUFBQyxFQUE3QyxFQUFpRDtBQUM3QyxVQUFJcUgsQ0FBQyxHQUFHSCxRQUFRLENBQUNsSCxFQUFELENBQWhCO0FBQ0EsVUFBSXNILEtBQUssR0FBR0QsQ0FBQyxDQUFDRSxLQUFkO0FBQ0EsVUFBSUMsU0FBUyxHQUFHTCxVQUFVLENBQUNNLElBQVgsQ0FBZ0JILEtBQWhCLENBQWhCO0FBQ0EsVUFBSUUsU0FBUyxJQUFJLENBQUN2RSxVQUFVLENBQUNxRSxLQUFELENBQTVCLEVBQXFDRCxDQUFDLENBQUNmLE9BQUY7QUFDeEM7QUFDSjtBQTdRMkIsQ0FBVCxDQUF2QjtBQWdSQXJILEVBQUUsQ0FBQ0QsZ0JBQUgsR0FBc0IwSSxNQUFNLENBQUNDLE9BQVAsR0FBaUIzSSxnQkFBdkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xuIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKipcbiAqICEjZW4gUmVuZGVycyB0aGUgVE1YIG9iamVjdCBncm91cC5cbiAqICEjemgg5riy5p+TIHRteCBvYmplY3QgZ3JvdXDjgIJcbiAqIEBjbGFzcyBUaWxlZE9iamVjdEdyb3VwXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xubGV0IFRpbGVkT2JqZWN0R3JvdXAgPSBjYy5DbGFzcyh7XG4gICAgbmFtZTogJ2NjLlRpbGVkT2JqZWN0R3JvdXAnLFxuXG4gICAgLy8gSW5oZXJpdHMgZnJvbSB0aGUgYWJzdHJhY3QgY2xhc3MgZGlyZWN0bHksXG4gICAgLy8gYmVjYXVzZSBUaWxlZExheWVyIG5vdCBjcmVhdGUgb3IgbWFpbnRhaW5zIHRoZSBzZ05vZGUgYnkgaXRzZWxmLlxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcblxuICAgIC8qKlxuICAgICAqICEjZW4gT2Zmc2V0IHBvc2l0aW9uIG9mIGNoaWxkIG9iamVjdHMuXG4gICAgICogISN6aCDojrflj5blrZDlr7nosaHnmoTlgY/np7vkvY3nva7jgIJcbiAgICAgKiBAbWV0aG9kIGdldFBvc2l0aW9uT2Zmc2V0XG4gICAgICogQHJldHVybiB7VmVjMn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGxldCBvZmZzZXQgPSB0TVhPYmplY3RHcm91cC5nZXRQb3NpdGlvbk9mZnNldCgpO1xuICAgICAqL1xuICAgIGdldFBvc2l0aW9uT2Zmc2V0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uT2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiAhI2VuIExpc3Qgb2YgcHJvcGVydGllcyBzdG9yZWQgaW4gYSBkaWN0aW9uYXJ5LlxuICAgICAqICEjemgg5Lul5pig5bCE55qE5b2i5byP6I635Y+W5bGe5oCn5YiX6KGo44CCXG4gICAgICogQG1ldGhvZCBnZXRQcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbGV0IG9mZnNldCA9IHRNWE9iamVjdEdyb3VwLmdldFByb3BlcnRpZXMoKTtcbiAgICAgKi9cbiAgICBnZXRQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogISNlbiBHZXRzIHRoZSBHcm91cCBuYW1lLlxuICAgICAqICEjemgg6I635Y+W57uE5ZCN56ew44CCXG4gICAgICogQG1ldGhvZCBnZXRHcm91cE5hbWVcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBsZXQgZ3JvdXBOYW1lID0gdE1YT2JqZWN0R3JvdXAuZ2V0R3JvdXBOYW1lO1xuICAgICAqL1xuICAgIGdldEdyb3VwTmFtZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cE5hbWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgZm9yIHRoZSBzcGVjaWZpYyBwcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5TmFtZVxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXRQcm9wZXJ0eSAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZS50b1N0cmluZygpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogISNlblxuICAgICAqIFJldHVybiB0aGUgb2JqZWN0IGZvciB0aGUgc3BlY2lmaWMgb2JqZWN0IG5hbWUuIDxiciAvPlxuICAgICAqIEl0IHdpbGwgcmV0dXJuIHRoZSAxc3Qgb2JqZWN0IGZvdW5kIG9uIHRoZSBhcnJheSBmb3IgdGhlIGdpdmVuIG5hbWUuXG4gICAgICogISN6aCDojrflj5bmjIflrprnmoTlr7nosaHjgIJcbiAgICAgKiBAbWV0aG9kIGdldE9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3ROYW1lXG4gICAgICogQHJldHVybiB7T2JqZWN0fE51bGx9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBsZXQgb2JqZWN0ID0gdE1YT2JqZWN0R3JvdXAuZ2V0T2JqZWN0KFwiR3JvdXBcIik7XG4gICAgICovXG4gICAgZ2V0T2JqZWN0IChvYmplY3ROYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5fb2JqZWN0c1tpXTtcbiAgICAgICAgICAgIGlmIChvYmogJiYgb2JqLm5hbWUgPT09IG9iamVjdE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG9iamVjdCBub3QgZm91bmRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqICEjZW4gR2V0cyB0aGUgb2JqZWN0cy5cbiAgICAgKiAhI3poIOiOt+WPluWvueixoeaVsOe7hOOAglxuICAgICAqIEBtZXRob2QgZ2V0T2JqZWN0c1xuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbGV0IG9iamVjdHMgPSB0TVhPYmplY3RHcm91cC5nZXRPYmplY3RzKCk7XG4gICAgICovXG4gICAgZ2V0T2JqZWN0cyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzO1xuICAgIH0sXG5cbiAgICBfaW5pdCAoZ3JvdXBJbmZvLCBtYXBJbmZvLCB0ZXhHcmlkcykge1xuICAgICAgICBjb25zdCBUaWxlZE1hcCA9IGNjLlRpbGVkTWFwO1xuICAgICAgICBjb25zdCBUTVhPYmplY3RUeXBlID0gVGlsZWRNYXAuVE1YT2JqZWN0VHlwZTtcbiAgICAgICAgY29uc3QgT3JpZW50YXRpb24gPSBUaWxlZE1hcC5PcmllbnRhdGlvbjtcbiAgICAgICAgY29uc3QgU3RhZ2dlckF4aXMgPSBUaWxlZE1hcC5TdGFnZ2VyQXhpcztcbiAgICAgICAgY29uc3QgVGlsZUZsYWcgPSBUaWxlZE1hcC5UaWxlRmxhZztcbiAgICAgICAgY29uc3QgRkxJUFBFRF9NQVNLID0gVGlsZUZsYWcuRkxJUFBFRF9NQVNLO1xuICAgICAgICBjb25zdCBGTEFHX0hPUklaT05UQUwgPSBUaWxlRmxhZy5IT1JJWk9OVEFMO1xuICAgICAgICBjb25zdCBGTEFHX1ZFUlRJQ0FMID0gVGlsZUZsYWcuVkVSVElDQUw7XG5cbiAgICAgICAgdGhpcy5fZ3JvdXBOYW1lID0gZ3JvdXBJbmZvLm5hbWU7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uT2Zmc2V0ID0gZ3JvdXBJbmZvLm9mZnNldDtcbiAgICAgICAgdGhpcy5fbWFwSW5mbyA9IG1hcEluZm87XG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBncm91cEluZm8uZ2V0UHJvcGVydGllcygpO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBjYy52Mihncm91cEluZm8ub2Zmc2V0LngsIC1ncm91cEluZm8ub2Zmc2V0LnkpO1xuICAgICAgICB0aGlzLl9vcGFjaXR5ID0gZ3JvdXBJbmZvLl9vcGFjaXR5O1xuXG4gICAgICAgIGxldCBtYXBTaXplID0gbWFwSW5mby5fbWFwU2l6ZTtcbiAgICAgICAgbGV0IHRpbGVTaXplID0gbWFwSW5mby5fdGlsZVNpemU7XG4gICAgICAgIGxldCB3aWR0aCA9IDAsIGhlaWdodCA9IDA7XG4gICAgICAgIGlmIChtYXBJbmZvLm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IRVgpIHtcbiAgICAgICAgICAgIGlmIChtYXBJbmZvLmdldFN0YWdnZXJBeGlzKCkgPT09IFN0YWdnZXJBeGlzLlNUQUdHRVJBWElTX1gpIHtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aWxlU2l6ZS5oZWlnaHQgKiAobWFwU2l6ZS5oZWlnaHQgKyAwLjUpO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gKHRpbGVTaXplLndpZHRoICsgbWFwSW5mby5nZXRIZXhTaWRlTGVuZ3RoKCkpICogTWF0aC5mbG9vcihtYXBTaXplLndpZHRoIC8gMikgKyB0aWxlU2l6ZS53aWR0aCAqIChtYXBTaXplLndpZHRoICUgMik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gdGlsZVNpemUud2lkdGggKiAobWFwU2l6ZS53aWR0aCArIDAuNSk7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gKHRpbGVTaXplLmhlaWdodCArIG1hcEluZm8uZ2V0SGV4U2lkZUxlbmd0aCgpKSAqIE1hdGguZmxvb3IobWFwU2l6ZS5oZWlnaHQgLyAyKSArIHRpbGVTaXplLmhlaWdodCAqIChtYXBTaXplLmhlaWdodCAlIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1hcEluZm8ub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLklTTykge1xuICAgICAgICAgICAgbGV0IHdoID0gbWFwU2l6ZS53aWR0aCArIG1hcFNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgd2lkdGggPSB0aWxlU2l6ZS53aWR0aCAqIDAuNSAqIHdoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGlsZVNpemUuaGVpZ2h0ICogMC41ICogd2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCA9IG1hcFNpemUud2lkdGggKiB0aWxlU2l6ZS53aWR0aDsgXG4gICAgICAgICAgICBoZWlnaHQgPSBtYXBTaXplLmhlaWdodCAqIHRpbGVTaXplLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUuc2V0Q29udGVudFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgbGV0IGxlZnRUb3BYID0gd2lkdGggKiB0aGlzLm5vZGUuYW5jaG9yWDtcbiAgICAgICAgbGV0IGxlZnRUb3BZID0gaGVpZ2h0ICogKDEgLSB0aGlzLm5vZGUuYW5jaG9yWSk7XG5cbiAgICAgICAgbGV0IG9iamVjdHMgPSBncm91cEluZm8uX29iamVjdHM7XG4gICAgICAgIGxldCBhbGl2ZU5vZGVzID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBvYmplY3QgPSBvYmplY3RzW2ldO1xuICAgICAgICAgICAgbGV0IG9ialR5cGUgPSBvYmplY3QudHlwZTtcbiAgICAgICAgICAgIG9iamVjdC5vZmZzZXQgPSBjYy52MihvYmplY3QueCwgb2JqZWN0LnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gb2JqZWN0LnBvaW50cyB8fCBvYmplY3QucG9seWxpbmVQb2ludHM7XG4gICAgICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGkgPSAwOyBwaSA8IHBvaW50cy5sZW5ndGg7IHBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW3BpXS55ICo9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgICAgICBcblxuICAgICAgICAgICAgaWYgKE9yaWVudGF0aW9uLklTTyAhPT0gbWFwSW5mby5vcmllbnRhdGlvbikge1xuICAgICAgICAgICAgICAgIG9iamVjdC55ID0gaGVpZ2h0IC0gb2JqZWN0Lnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBwb3NJZHhYID0gb2JqZWN0LnggLyB0aWxlU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IHBvc0lkeFkgPSBvYmplY3QueSAvIHRpbGVTaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICBvYmplY3QueCA9IHRpbGVTaXplLndpZHRoICogMC41ICogKG1hcFNpemUuaGVpZ2h0ICsgcG9zSWR4WCAtIHBvc0lkeFkpO1xuICAgICAgICAgICAgICAgIG9iamVjdC55ID0gdGlsZVNpemUuaGVpZ2h0ICogMC41ICogKG1hcFNpemUud2lkdGggKyBtYXBTaXplLmhlaWdodCAtIHBvc0lkeFggLSBwb3NJZHhZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9ialR5cGUgPT09IFRNWE9iamVjdFR5cGUuVEVYVCkge1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0TmFtZSA9IFwidGV4dFwiICsgb2JqZWN0LmlkO1xuICAgICAgICAgICAgICAgIGFsaXZlTm9kZXNbdGV4dE5hbWVdID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGxldCB0ZXh0Tm9kZSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSh0ZXh0TmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0Tm9kZSA9IG5ldyBjYy5Ob2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuYWN0aXZlID0gb2JqZWN0LnZpc2libGU7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuYW5jaG9yWCA9IDA7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuYW5jaG9yWSA9IDE7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuYW5nbGUgPSAtb2JqZWN0LnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIHRleHROb2RlLnggPSBvYmplY3QueCAtIGxlZnRUb3BYO1xuICAgICAgICAgICAgICAgIHRleHROb2RlLnkgPSBvYmplY3QueSAtIGxlZnRUb3BZO1xuICAgICAgICAgICAgICAgIHRleHROb2RlLm5hbWUgPSB0ZXh0TmFtZTtcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS5wYXJlbnQgPSB0aGlzLm5vZGU7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuY29sb3IgPSBvYmplY3QuY29sb3I7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUub3BhY2l0eSA9IHRoaXMuX29wYWNpdHk7XG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuc2V0U2libGluZ0luZGV4KGkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gdGV4dE5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGV4dE5vZGUuYWRkQ29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGFiZWwub3ZlcmZsb3cgPSBjYy5MYWJlbC5PdmVyZmxvdy5TSFJJTks7XG4gICAgICAgICAgICAgICAgbGFiZWwubGluZUhlaWdodCA9IG9iamVjdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gb2JqZWN0LnRleHQ7XG4gICAgICAgICAgICAgICAgbGFiZWwuaG9yaXpvbnRhbEFsaWduID0gb2JqZWN0LmhhbGlnbjtcbiAgICAgICAgICAgICAgICBsYWJlbC52ZXJ0aWNhbEFsaWduID0gb2JqZWN0LnZhbGlnbjtcbiAgICAgICAgICAgICAgICBsYWJlbC5mb250U2l6ZSA9IG9iamVjdC5waXhlbHNpemU7XG5cbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS53aWR0aCA9IG9iamVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob2JqVHlwZSA9PT0gVE1YT2JqZWN0VHlwZS5JTUFHRSkge1xuICAgICAgICAgICAgICAgIGxldCBnaWQgPSBvYmplY3QuZ2lkO1xuICAgICAgICAgICAgICAgIGxldCBncmlkID0gdGV4R3JpZHNbKGdpZCAmIEZMSVBQRURfTUFTSykgPj4+IDBdO1xuICAgICAgICAgICAgICAgIGlmICghZ3JpZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbGV0IHRpbGVzZXQgPSBncmlkLnRpbGVzZXQ7XG4gICAgICAgICAgICAgICAgbGV0IGltZ05hbWUgPSBcImltZ1wiICsgb2JqZWN0LmlkO1xuICAgICAgICAgICAgICAgIGFsaXZlTm9kZXNbaW1nTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCBpbWdOb2RlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKGltZ05hbWUpO1xuICAgICAgICAgICAgICAgIGxldCBpbWdXaWR0aCA9IG9iamVjdC53aWR0aCB8fCBncmlkLndpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBpbWdIZWlnaHQgPSBvYmplY3QuaGVpZ2h0IHx8IGdyaWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGxldCB0aWxlT2Zmc2V0WCA9IHRpbGVzZXQudGlsZU9mZnNldC54O1xuICAgICAgICAgICAgICAgIGxldCB0aWxlT2Zmc2V0WSA9IHRpbGVzZXQudGlsZU9mZnNldC55O1xuXG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIGltYWdlIG5vZGVzIGltcGxlbWVudGVkIGFzIHByaXZhdGUgbm9kZXNcbiAgICAgICAgICAgICAgICAvLyBVc2UgY2MuTm9kZSB0byBpbXBsZW1lbnQgbm9kZS1sZXZlbCByZXF1aXJlbWVudHNcbiAgICAgICAgICAgICAgICBpZiAoaW1nTm9kZSBpbnN0YW5jZW9mIGNjLlByaXZhdGVOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpbWdOb2RlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpbWdOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUgPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChPcmllbnRhdGlvbi5JU08gPT0gbWFwSW5mby5vcmllbnRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpbWdOb2RlLmFuY2hvclggPSAwLjUgKyB0aWxlT2Zmc2V0WCAvIGltZ1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpbWdOb2RlLmFuY2hvclkgPSB0aWxlT2Zmc2V0WSAvIGltZ0hlaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbWdOb2RlLmFuY2hvclggPSB0aWxlT2Zmc2V0WCAvIGltZ1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpbWdOb2RlLmFuY2hvclkgPSB0aWxlT2Zmc2V0WSAvIGltZ0hlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW1nTm9kZS5hY3RpdmUgPSBvYmplY3QudmlzaWJsZTtcbiAgICAgICAgICAgICAgICBpbWdOb2RlLmFuZ2xlID0gLW9iamVjdC5yb3RhdGlvbjtcbiAgICAgICAgICAgICAgICBpbWdOb2RlLnggPSBvYmplY3QueCAtIGxlZnRUb3BYO1xuICAgICAgICAgICAgICAgIGltZ05vZGUueSA9IG9iamVjdC55IC0gbGVmdFRvcFk7XG4gICAgICAgICAgICAgICAgaW1nTm9kZS5uYW1lID0gaW1nTmFtZTtcbiAgICAgICAgICAgICAgICBpbWdOb2RlLnBhcmVudCA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgICAgICBpbWdOb2RlLm9wYWNpdHkgPSB0aGlzLl9vcGFjaXR5O1xuICAgICAgICAgICAgICAgIGltZ05vZGUuc2V0U2libGluZ0luZGV4KGkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNwID0gaW1nTm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwID0gaW1nTm9kZS5hZGRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHNwZiA9IHNwLnNwcml0ZUZyYW1lO1xuICAgICAgICAgICAgICAgIGlmICghc3BmKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZiA9IG5ldyBjYy5TcHJpdGVGcmFtZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgoZ2lkICYgRkxBR19IT1JJWk9OVEFMKSA+Pj4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzcGYuc2V0RmxpcFgodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3BmLnNldEZsaXBYKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKGdpZCAmIEZMQUdfVkVSVElDQUwpID4+PiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZi5zZXRGbGlwWSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGYuc2V0RmxpcFkoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNwZi5zZXRUZXh0dXJlKGdyaWQudGlsZXNldC5zb3VyY2VJbWFnZSwgY2MucmVjdChncmlkKSk7XG4gICAgICAgICAgICAgICAgc3Auc3ByaXRlRnJhbWUgPSBzcGY7XG4gICAgICAgICAgICAgICAgc3Auc2V0VmVydHNEaXJ0eSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gb2JqZWN0IGdyb3VwIG1heSBoYXMgbm8gd2lkdGggb3IgaGVpZ2h0IGluZm9cbiAgICAgICAgICAgICAgICBpbWdOb2RlLndpZHRoID0gaW1nV2lkdGg7XG4gICAgICAgICAgICAgICAgaW1nTm9kZS5oZWlnaHQgPSBpbWdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2JqZWN0cyA9IG9iamVjdHM7XG5cbiAgICAgICAgLy8gZGVzdHJveSB1c2VsZXNzIG5vZGVcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gdGhpcy5ub2RlLmNoaWxkcmVuO1xuICAgICAgICBsZXQgdXNlbGVzc0V4cCA9IC9eKD86aW1nfHRleHQpXFxkKyQvO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgbGV0IGMgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGxldCBjTmFtZSA9IGMuX25hbWU7XG4gICAgICAgICAgICBsZXQgaXNVc2VsZXNzID0gdXNlbGVzc0V4cC50ZXN0KGNOYW1lKTtcbiAgICAgICAgICAgIGlmIChpc1VzZWxlc3MgJiYgIWFsaXZlTm9kZXNbY05hbWVdKSBjLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jYy5UaWxlZE9iamVjdEdyb3VwID0gbW9kdWxlLmV4cG9ydHMgPSBUaWxlZE9iamVjdEdyb3VwO1xuIl0sInNvdXJjZVJvb3QiOiIvIn0=