
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/core/renderer/webgl/assemblers/sprite/2d/tiled.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _assembler2d = _interopRequireDefault(require("../../../../assembler-2d"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var TiledAssembler = /*#__PURE__*/function (_Assembler2D) {
  _inheritsLoose(TiledAssembler, _Assembler2D);

  function TiledAssembler() {
    return _Assembler2D.apply(this, arguments) || this;
  }

  var _proto = TiledAssembler.prototype;

  _proto.initData = function initData(sprite) {
    this.verticesCount = 0;
    this.contentWidth = 0;
    this.contentHeight = 0;
    this.rectWidth = 0;
    this.rectHeight = 0;
    this.hRepeat = 0;
    this.vRepeat = 0;
    this.row = 0;
    this.col = 0;

    this._renderData.createFlexData(0, 4, 6, this.getVfmt());

    this._updateIndices();
  };

  _proto.initLocal = function initLocal() {
    this._local = {
      x: [],
      y: []
    };
  };

  _proto._updateIndices = function _updateIndices() {
    var iData = this._renderData.iDatas[0];

    for (var i = 0, vid = 0, l = iData.length; i < l; i += 6, vid += 4) {
      iData[i] = vid;
      iData[i + 1] = vid + 1;
      iData[i + 2] = vid + 2;
      iData[i + 3] = vid + 1;
      iData[i + 4] = vid + 3;
      iData[i + 5] = vid + 2;
    }
  };

  _proto.updateRenderData = function updateRenderData(sprite) {
    var frame = sprite._spriteFrame;
    this.packToDynamicAtlas(sprite, frame);
    var node = sprite.node;
    var contentWidth = this.contentWidth = Math.abs(node.width);
    var contentHeight = this.contentHeight = Math.abs(node.height);
    var rect = frame._rect;
    var leftWidth = frame.insetLeft,
        rightWidth = frame.insetRight,
        centerWidth = rect.width - leftWidth - rightWidth,
        topHeight = frame.insetTop,
        bottomHeight = frame.insetBottom,
        centerHeight = rect.height - topHeight - bottomHeight;
    this.sizableWidth = contentWidth - leftWidth - rightWidth;
    this.sizableHeight = contentHeight - topHeight - bottomHeight;
    this.sizableWidth = this.sizableWidth > 0 ? this.sizableWidth : 0;
    this.sizableHeight = this.sizableHeight > 0 ? this.sizableHeight : 0;
    var hRepeat = this.hRepeat = centerWidth === 0 ? this.sizableWidth : this.sizableWidth / centerWidth;
    var vRepeat = this.vRepeat = centerHeight === 0 ? this.sizableHeight : this.sizableHeight / centerHeight;
    var row = this.row = Math.ceil(vRepeat + 2);
    var col = this.col = Math.ceil(hRepeat + 2); // update data property

    var count = row * col;
    this.verticesCount = count * 4;
    this.indicesCount = count * 6;
    var renderData = this._renderData;
    var flexBuffer = renderData._flexBuffer;

    if (flexBuffer.reserve(this.verticesCount, this.indicesCount)) {
      this._updateIndices();

      this.updateColor(sprite);
    }

    flexBuffer.used(this.verticesCount, this.indicesCount);

    if (sprite._vertsDirty) {
      this.updateUVs(sprite);
      this.updateVerts(sprite);
      sprite._vertsDirty = false;
    }
  };

  _proto.updateVerts = function updateVerts(sprite) {
    var frame = sprite._spriteFrame;
    var rect = frame._rect;
    var node = sprite.node,
        appx = node.anchorX * node.width,
        appy = node.anchorY * node.height;
    var row = this.row,
        col = this.col,
        contentWidth = this.contentWidth,
        contentHeight = this.contentHeight;
    var _this$_local = this._local,
        x = _this$_local.x,
        y = _this$_local.y;
    x.length = y.length = 0;
    var leftWidth = frame.insetLeft,
        rightWidth = frame.insetRight,
        centerWidth = rect.width - leftWidth - rightWidth,
        topHeight = frame.insetTop,
        bottomHeight = frame.insetBottom,
        centerHeight = rect.height - topHeight - bottomHeight;
    var xScale = node.width / (leftWidth + rightWidth) > 1 ? 1 : node.width / (leftWidth + rightWidth);
    var yScale = node.height / (topHeight + bottomHeight) > 1 ? 1 : node.height / (topHeight + bottomHeight);
    var offsetWidth = 0,
        offsetHeight = 0;

    if (centerWidth > 0) {
      /*
       * Because the float numerical calculation in javascript is not accurate enough, 
       * there is an expected result of 1.0, but the actual result is 1.000001.
       */
      offsetWidth = Math.floor(this.sizableWidth * 1000) / 1000 % centerWidth === 0 ? centerWidth : this.sizableWidth % centerWidth;
    } else {
      offsetWidth = this.sizableWidth;
    }

    if (centerHeight > 0) {
      offsetHeight = Math.floor(this.sizableHeight * 1000) / 1000 % centerHeight === 0 ? centerHeight : this.sizableHeight % centerHeight;
    } else {
      offsetHeight = this.sizableHeight;
    }

    for (var i = 0; i <= col; i++) {
      if (i === 0) {
        x[i] = -appx;
      } else if (i > 0 && i < col) {
        if (i === 1) {
          x[i] = leftWidth * xScale + Math.min(centerWidth, this.sizableWidth) - appx;
        } else {
          if (centerWidth > 0) {
            if (i === col - 1) {
              x[i] = leftWidth + offsetWidth + centerWidth * (i - 2) - appx;
            } else {
              x[i] = leftWidth + Math.min(centerWidth, this.sizableWidth) + centerWidth * (i - 2) - appx;
            }
          } else {
            x[i] = leftWidth + this.sizableWidth - appx;
          }
        }
      } else if (i === col) {
        x[i] = Math.min(leftWidth + this.sizableWidth + rightWidth, contentWidth) - appx;
      }
    }

    for (var _i = 0; _i <= row; _i++) {
      if (_i === 0) {
        y[_i] = -appy;
      } else if (_i > 0 && _i < row) {
        if (_i === 1) {
          y[_i] = bottomHeight * yScale + Math.min(centerHeight, this.sizableHeight) - appy;
        } else {
          if (centerHeight > 0) {
            if (_i === row - 1) {
              y[_i] = bottomHeight + offsetHeight + (_i - 2) * centerHeight - appy;
            } else {
              y[_i] = bottomHeight + Math.min(centerHeight, this.sizableHeight) + (_i - 2) * centerHeight - appy;
            }
          } else {
            y[_i] = bottomHeight + this.sizableHeight - appy;
          }
        }
      } else if (_i === row) {
        y[_i] = Math.min(bottomHeight + this.sizableHeight + topHeight, contentHeight) - appy;
      }
    }

    this.updateWorldVerts(sprite);
  };

  _proto.updateWorldVerts = function updateWorldVerts(sprite) {
    var renderData = this._renderData;
    var local = this._local;
    var localX = local.x,
        localY = local.y;
    var world = renderData.vDatas[0];
    var row = this.row,
        col = this.col;
    var matrix = sprite.node._worldMatrix;
    var matrixm = matrix.m;
    var a = matrixm[0],
        b = matrixm[1],
        c = matrixm[4],
        d = matrixm[5],
        tx = matrixm[12],
        ty = matrixm[13];
    var x, x1, y, y1;
    var floatsPerVert = this.floatsPerVert;
    var vertexOffset = 0;

    for (var yindex = 0, ylength = row; yindex < ylength; ++yindex) {
      y = localY[yindex];
      y1 = localY[yindex + 1];

      for (var xindex = 0, xlength = col; xindex < xlength; ++xindex) {
        x = localX[xindex];
        x1 = localX[xindex + 1]; // lb

        world[vertexOffset] = x * a + y * c + tx;
        world[vertexOffset + 1] = x * b + y * d + ty;
        vertexOffset += floatsPerVert; // rb

        world[vertexOffset] = x1 * a + y * c + tx;
        world[vertexOffset + 1] = x1 * b + y * d + ty;
        vertexOffset += floatsPerVert; // lt

        world[vertexOffset] = x * a + y1 * c + tx;
        world[vertexOffset + 1] = x * b + y1 * d + ty;
        vertexOffset += floatsPerVert; // rt

        world[vertexOffset] = x1 * a + y1 * c + tx;
        world[vertexOffset + 1] = x1 * b + y1 * d + ty;
        vertexOffset += floatsPerVert;
      }
    }
  };

  _proto.updateUVs = function updateUVs(sprite) {
    var verts = this._renderData.vDatas[0];
    if (!verts) return;
    var frame = sprite._spriteFrame;
    var rect = frame._rect;
    var leftWidth = frame.insetLeft,
        rightWidth = frame.insetRight,
        centerWidth = rect.width - leftWidth - rightWidth,
        topHeight = frame.insetTop,
        bottomHeight = frame.insetBottom,
        centerHeight = rect.height - topHeight - bottomHeight;
    var row = this.row,
        col = this.col,
        hRepeat = this.hRepeat,
        vRepeat = this.vRepeat;
    var coefu = 0,
        coefv = 0;
    var uv = sprite.spriteFrame.uv;
    var uvSliced = sprite.spriteFrame.uvSliced;
    var rotated = sprite.spriteFrame._rotated;
    var floatsPerVert = this.floatsPerVert,
        uvOffset = this.uvOffset;
    var tempXVerts = [],
        tempYVerts = [];

    for (var yindex = 0, ylength = row; yindex < ylength; ++yindex) {
      if (this.sizableHeight > centerHeight) {
        if (this.sizableHeight >= yindex * centerHeight) {
          coefv = 1;
        } else {
          coefv = vRepeat % 1;
        }
      } else {
        coefv = vRepeat;
      }

      for (var xindex = 0, xlength = col; xindex < xlength; ++xindex) {
        if (this.sizableWidth > centerWidth) {
          if (this.sizableWidth >= xindex * centerWidth) {
            coefu = 1;
          } else {
            coefu = hRepeat % 1;
          }
        } else {
          coefu = hRepeat;
        }

        if (rotated) {
          if (yindex === 0) {
            tempXVerts[0] = uvSliced[0].u;
            tempXVerts[1] = uvSliced[0].u;
            tempXVerts[2] = uvSliced[4].u + (uvSliced[8].u - uvSliced[4].u) * coefv;
          } else if (yindex < row - 1) {
            tempXVerts[0] = uvSliced[4].u;
            tempXVerts[1] = uvSliced[4].u;
            tempXVerts[2] = uvSliced[4].u + (uvSliced[8].u - uvSliced[4].u) * coefv;
          } else if (yindex === row - 1) {
            tempXVerts[0] = uvSliced[8].u;
            tempXVerts[1] = uvSliced[8].u;
            tempXVerts[2] = uvSliced[12].u;
          }

          if (xindex === 0) {
            tempYVerts[0] = uvSliced[0].v;
            tempYVerts[1] = uvSliced[1].v + (uvSliced[2].v - uvSliced[1].v) * coefu;
            tempYVerts[2] = uvSliced[0].v;
          } else if (xindex < col - 1) {
            tempYVerts[0] = uvSliced[1].v;
            tempYVerts[1] = uvSliced[1].v + (uvSliced[2].v - uvSliced[1].v) * coefu;
            tempYVerts[2] = uvSliced[1].v;
          } else if (xindex === col - 1) {
            tempYVerts[0] = uvSliced[2].v;
            tempYVerts[1] = uvSliced[3].v;
            tempYVerts[2] = uvSliced[2].v;
          }

          tempXVerts[3] = tempXVerts[2];
          tempYVerts[3] = tempYVerts[1];
        } else {
          if (xindex === 0) {
            tempXVerts[0] = uvSliced[0].u;
            tempXVerts[1] = uvSliced[1].u + (uvSliced[2].u - uvSliced[1].u) * coefu;
            tempXVerts[2] = uv[0];
          } else if (xindex < col - 1) {
            tempXVerts[0] = uvSliced[1].u;
            tempXVerts[1] = uvSliced[1].u + (uvSliced[2].u - uvSliced[1].u) * coefu;
            tempXVerts[2] = uvSliced[1].u;
          } else if (xindex === col - 1) {
            tempXVerts[0] = uvSliced[2].u;
            tempXVerts[1] = uvSliced[3].u;
            tempXVerts[2] = uvSliced[2].u;
          }

          if (yindex === 0) {
            tempYVerts[0] = uvSliced[0].v;
            tempYVerts[1] = uvSliced[0].v;
            tempYVerts[2] = uvSliced[4].v + (uvSliced[8].v - uvSliced[4].v) * coefv;
          } else if (yindex < row - 1) {
            tempYVerts[0] = uvSliced[4].v;
            tempYVerts[1] = uvSliced[4].v;
            tempYVerts[2] = uvSliced[4].v + (uvSliced[8].v - uvSliced[4].v) * coefv;
          } else if (yindex === row - 1) {
            tempYVerts[0] = uvSliced[8].v;
            tempYVerts[1] = uvSliced[8].v;
            tempYVerts[2] = uvSliced[12].v;
          }

          tempXVerts[3] = tempXVerts[1];
          tempYVerts[3] = tempYVerts[2];
        } // lb


        verts[uvOffset] = tempXVerts[0];
        verts[uvOffset + 1] = tempYVerts[0];
        uvOffset += floatsPerVert; // rb

        verts[uvOffset] = tempXVerts[1];
        verts[uvOffset + 1] = tempYVerts[1];
        uvOffset += floatsPerVert; // lt

        verts[uvOffset] = tempXVerts[2];
        verts[uvOffset + 1] = tempYVerts[2];
        uvOffset += floatsPerVert; // rt

        verts[uvOffset] = tempXVerts[3];
        verts[uvOffset + 1] = tempYVerts[3];
        uvOffset += floatsPerVert;
      }
    }
  };

  return TiledAssembler;
}(_assembler2d["default"]);

exports["default"] = TiledAssembler;
module.exports = exports["default"];
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXYvY29jb3MyZC9jb3JlL3JlbmRlcmVyL3dlYmdsL2Fzc2VtYmxlcnMvc3ByaXRlLzJkL3RpbGVkLmpzIl0sIm5hbWVzIjpbIlRpbGVkQXNzZW1ibGVyIiwiaW5pdERhdGEiLCJzcHJpdGUiLCJ2ZXJ0aWNlc0NvdW50IiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsInJlY3RXaWR0aCIsInJlY3RIZWlnaHQiLCJoUmVwZWF0IiwidlJlcGVhdCIsInJvdyIsImNvbCIsIl9yZW5kZXJEYXRhIiwiY3JlYXRlRmxleERhdGEiLCJnZXRWZm10IiwiX3VwZGF0ZUluZGljZXMiLCJpbml0TG9jYWwiLCJfbG9jYWwiLCJ4IiwieSIsImlEYXRhIiwiaURhdGFzIiwiaSIsInZpZCIsImwiLCJsZW5ndGgiLCJ1cGRhdGVSZW5kZXJEYXRhIiwiZnJhbWUiLCJfc3ByaXRlRnJhbWUiLCJwYWNrVG9EeW5hbWljQXRsYXMiLCJub2RlIiwiTWF0aCIsImFicyIsIndpZHRoIiwiaGVpZ2h0IiwicmVjdCIsIl9yZWN0IiwibGVmdFdpZHRoIiwiaW5zZXRMZWZ0IiwicmlnaHRXaWR0aCIsImluc2V0UmlnaHQiLCJjZW50ZXJXaWR0aCIsInRvcEhlaWdodCIsImluc2V0VG9wIiwiYm90dG9tSGVpZ2h0IiwiaW5zZXRCb3R0b20iLCJjZW50ZXJIZWlnaHQiLCJzaXphYmxlV2lkdGgiLCJzaXphYmxlSGVpZ2h0IiwiY2VpbCIsImNvdW50IiwiaW5kaWNlc0NvdW50IiwicmVuZGVyRGF0YSIsImZsZXhCdWZmZXIiLCJfZmxleEJ1ZmZlciIsInJlc2VydmUiLCJ1cGRhdGVDb2xvciIsInVzZWQiLCJfdmVydHNEaXJ0eSIsInVwZGF0ZVVWcyIsInVwZGF0ZVZlcnRzIiwiYXBweCIsImFuY2hvclgiLCJhcHB5IiwiYW5jaG9yWSIsInhTY2FsZSIsInlTY2FsZSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiZmxvb3IiLCJtaW4iLCJ1cGRhdGVXb3JsZFZlcnRzIiwibG9jYWwiLCJsb2NhbFgiLCJsb2NhbFkiLCJ3b3JsZCIsInZEYXRhcyIsIm1hdHJpeCIsIl93b3JsZE1hdHJpeCIsIm1hdHJpeG0iLCJtIiwiYSIsImIiLCJjIiwiZCIsInR4IiwidHkiLCJ4MSIsInkxIiwiZmxvYXRzUGVyVmVydCIsInZlcnRleE9mZnNldCIsInlpbmRleCIsInlsZW5ndGgiLCJ4aW5kZXgiLCJ4bGVuZ3RoIiwidmVydHMiLCJjb2VmdSIsImNvZWZ2IiwidXYiLCJzcHJpdGVGcmFtZSIsInV2U2xpY2VkIiwicm90YXRlZCIsIl9yb3RhdGVkIiwidXZPZmZzZXQiLCJ0ZW1wWFZlcnRzIiwidGVtcFlWZXJ0cyIsInUiLCJ2IiwiQXNzZW1ibGVyMkQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5QkE7Ozs7Ozs7O0lBRXFCQTs7Ozs7Ozs7O1NBQ2pCQyxXQUFBLGtCQUFVQyxNQUFWLEVBQWtCO0FBQ2QsU0FBS0MsYUFBTCxHQUFxQixDQUFyQjtBQUNBLFNBQUtDLFlBQUwsR0FBb0IsQ0FBcEI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCLENBQXJCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixDQUFqQjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsQ0FBZjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxDQUFmO0FBQ0EsU0FBS0MsR0FBTCxHQUFXLENBQVg7QUFDQSxTQUFLQyxHQUFMLEdBQVcsQ0FBWDs7QUFFQSxTQUFLQyxXQUFMLENBQWlCQyxjQUFqQixDQUFnQyxDQUFoQyxFQUFtQyxDQUFuQyxFQUFzQyxDQUF0QyxFQUF5QyxLQUFLQyxPQUFMLEVBQXpDOztBQUNBLFNBQUtDLGNBQUw7QUFDSDs7U0FFREMsWUFBQSxxQkFBYTtBQUNULFNBQUtDLE1BQUwsR0FBYztBQUFFQyxNQUFBQSxDQUFDLEVBQUUsRUFBTDtBQUFTQyxNQUFBQSxDQUFDLEVBQUU7QUFBWixLQUFkO0FBQ0g7O1NBRURKLGlCQUFBLDBCQUFrQjtBQUNkLFFBQUlL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LENBQUNRLFFBQUQsQ0FBTCxHQUFrQkMsVUFBVSxDQUFDLENBQUQsQ0FBNUI7QUFDQVQsUUFBQUEsS0FBSyxDQUFDUSxRQUFRLEdBQUcsQ0FBWixDQUFMLEdBQXNCRSxVQUFVLENBQUMsQ0FBRCxDQUFoQztBQUNBRixRQUFBQSxRQUFRLElBQUlkLGFBQVosQ0E1RTRELENBNkU1RDs7QUFDQU0sUUFBQUEsS0FBSyxDQUFDUSxRQUFELENBQUwsR0FBa0JDLFVBQVUsQ0FBQyxDQUFELENBQTVCO0FBQ0FULFFBQUFBLEtBQUssQ0FBQ1EsUUFBUSxHQUFHLENBQVosQ0FBTCxHQUFzQkUsVUFBVSxDQUFDLENBQUQsQ0FBaEM7QUFDQUYsUUFBQUEsUUFBUSxJQUFJZCxhQUFaLENBaEY0RCxDQWlGNUQ7O0FBQ0FNLFFBQUFBLEtBQUssQ0FBQ1EsUUFBRCxDQUFMLEdBQWtCQyxVQUFVLENBQUMsQ0FBRCxDQUE1QjtBQUNBVCxRQUFBQSxLQUFLLENBQUNRLFFBQVEsR0FBRyxDQUFaLENBQUwsR0FBc0JFLFVBQVUsQ0FBQyxDQUFELENBQWhDO0FBQ0FGLFFBQUFBLFFBQVEsSUFBSWQsYUFBWixDQXBGNEQsQ0FxRjVEOztBQUNBTSxRQUFBQSxLQUFLLENBQUNRLFFBQUQsQ0FBTCxHQUFrQkMsVUFBVSxDQUFDLENBQUQsQ0FBNUI7QUFDQVQsUUFBQUEsS0FBSyxDQUFDUSxRQUFRLEdBQUcsQ0FBWixDQUFMLEdBQXNCRSxVQUFVLENBQUMsQ0FBRCxDQUFoQztBQUNBRixRQUFBQSxRQUFRLElBQUlkLGFBQVo7QUFDSDtBQUNKO0FBQ0o7OztFQS9UdUNtQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xuIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cblxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBBc3NlbWJsZXIyRCBmcm9tICcuLi8uLi8uLi8uLi9hc3NlbWJsZXItMmQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlZEFzc2VtYmxlciBleHRlbmRzIEFzc2VtYmxlcjJEIHtcbiAgICBpbml0RGF0YSAoc3ByaXRlKSB7XG4gICAgICAgIHRoaXMudmVydGljZXNDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuY29udGVudFdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5jb250ZW50SGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5yZWN0V2lkdGggPSAwO1xuICAgICAgICB0aGlzLnJlY3RIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmhSZXBlYXQgPSAwO1xuICAgICAgICB0aGlzLnZSZXBlYXQgPSAwO1xuICAgICAgICB0aGlzLnJvdyA9IDA7XG4gICAgICAgIHRoaXMuY29sID0gMDtcblxuICAgICAgICB0aGlzLl9yZW5kZXJEYXRhLmNyZWF0ZUZsZXhEYXRhKDAsIDQsIDYsIHRoaXMuZ2V0VmZtdCgpKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSW5kaWNlcygpO1xuICAgIH1cblxuICAgIGluaXRMb2NhbCAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsID0geyB4OiBbXSwgeTogW119O1xuICAgIH1cblxuICAgIF91cGRhdGVJbmRpY2VzICgpIHtcbiAgICAgICAgbGV0IGlEYXRhID0gdGhpcy5fcmVuZGVyRGF0YS5pRGF0YXNbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCB2aWQgPSAwLCBsID0gaURhdGEubGVuZ3RoOyBpIDwgbDsgaSArPSA2LCB2aWQgKz0gNCkge1xuICAgICAgICAgICAgaURhdGFbaV0gPSB2aWQ7XG4gICAgICAgICAgICBpRGF0YVtpICsgMV0gPSB2aWQgKyAxO1xuICAgICAgICAgICAgaURhdGFbaSArIDJdID0gdmlkICsgMjtcbiAgICAgICAgICAgIGlEYXRhW2kgKyAzXSA9IHZpZCArIDE7XG4gICAgICAgICAgICBpRGF0YVtpICsgNF0gPSB2aWQgKyAzO1xuICAgICAgICAgICAgaURhdGFbaSArIDVdID0gdmlkICsgMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVJlbmRlckRhdGEgKHNwcml0ZSkge1xuICAgICAgICBsZXQgZnJhbWUgPSBzcHJpdGUuX3Nwcml0ZUZyYW1lO1xuICAgICAgICB0aGlzLnBhY2tUb0R5bmFtaWNBdGxhcyhzcHJpdGUsIGZyYW1lKTtcblxuICAgICAgICBsZXQgbm9kZSA9IHNwcml0ZS5ub2RlO1xuXG4gICAgICAgIGxldCBjb250ZW50V2lkdGggPSB0aGlzLmNvbnRlbnRXaWR0aCA9IE1hdGguYWJzKG5vZGUud2lkdGgpO1xuICAgICAgICBsZXQgY29udGVudEhlaWdodCA9IHRoaXMuY29udGVudEhlaWdodCA9IE1hdGguYWJzKG5vZGUuaGVpZ2h0KTtcbiAgICAgICAgbGV0IHJlY3QgPSBmcmFtZS5fcmVjdDtcbiAgICAgICAgbGV0IGxlZnRXaWR0aCA9IGZyYW1lLmluc2V0TGVmdCwgcmlnaHRXaWR0aCA9IGZyYW1lLmluc2V0UmlnaHQsIGNlbnRlcldpZHRoID0gcmVjdC53aWR0aCAtIGxlZnRXaWR0aCAtIHJpZ2h0V2lkdGgsXG4gICAgICAgICAgICB0b3BIZWlnaHQgPSBmcmFtZS5pbnNldFRvcCwgYm90dG9tSGVpZ2h0ID0gZnJhbWUuaW5zZXRCb3R0b20sIGNlbnRlckhlaWdodCA9IHJlY3QuaGVpZ2h0IC0gdG9wSGVpZ2h0IC0gYm90dG9tSGVpZ2h0O1xuICAgICAgICB0aGlzLnNpemFibGVXaWR0aCA9IGNvbnRlbnRXaWR0aCAtIGxlZnRXaWR0aCAtIHJpZ2h0V2lkdGg7XG4gICAgICAgIHRoaXMuc2l6YWJsZUhlaWdodCA9IGNvbnRlbnRIZWlnaHQgLSB0b3BIZWlnaHQgLSBib3R0b21IZWlnaHQ7XG4gICAgICAgIHRoaXMuc2l6YWJsZVdpZHRoID0gdGhpcy5zaXphYmxlV2lkdGggPiAwID8gdGhpcy5zaXphYmxlV2lkdGggOiAwO1xuICAgICAgICB0aGlzLnNpemFibGVIZWlnaHQgPSB0aGlzLnNpemFibGVIZWlnaHQgPiAwID8gdGhpcy5zaXphYmxlSGVpZ2h0IDogMDtcbiAgICAgICAgbGV0IGhSZXBlYXQgPSB0aGlzLmhSZXBlYXQgPSBjZW50ZXJXaWR0aCA9PT0gMCA/IHRoaXMuc2l6YWJsZVdpZHRoIDogdGhpcy5zaXphYmxlV2lkdGggLyBjZW50ZXJXaWR0aDtcbiAgICAgICAgbGV0IHZSZXBlYXQgPSB0aGlzLnZSZXBlYXQgPSBjZW50ZXJIZWlnaHQgPT09IDAgPyB0aGlzLnNpemFibGVIZWlnaHQgOiB0aGlzLnNpemFibGVIZWlnaHQgLyBjZW50ZXJIZWlnaHQ7XG4gICAgICAgIGxldCByb3cgPSB0aGlzLnJvdyA9IE1hdGguY2VpbCh2UmVwZWF0ICsgMik7XG4gICAgICAgIGxldCBjb2wgPSB0aGlzLmNvbCA9IE1hdGguY2VpbChoUmVwZWF0ICsgMik7XG5cbiAgICAgICAgLy8gdXBkYXRlIGRhdGEgcHJvcGVydHlcbiAgICAgICAgbGV0IGNvdW50ID0gcm93ICogY29sO1xuICAgICAgICB0aGlzLnZlcnRpY2VzQ291bnQgPSBjb3VudCAqIDQ7XG4gICAgICAgIHRoaXMuaW5kaWNlc0NvdW50ID0gY291bnQgKiA2O1xuXG4gICAgICAgIGxldCByZW5kZXJEYXRhID0gdGhpcy5fcmVuZGVyRGF0YTtcbiAgICAgICAgbGV0IGZsZXhCdWZmZXIgPSByZW5kZXJEYXRhLl9mbGV4QnVmZmVyO1xuICAgICAgICBpZiAoZmxleEJ1ZmZlci5yZXNlcnZlKHRoaXMudmVydGljZXNDb3VudCwgdGhpcy5pbmRpY2VzQ291bnQpKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbmRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbG9yKHNwcml0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmxleEJ1ZmZlci51c2VkKHRoaXMudmVydGljZXNDb3VudCwgdGhpcy5pbmRpY2VzQ291bnQpO1xuXG4gICAgICAgIGlmIChzcHJpdGUuX3ZlcnRzRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVVZzKHNwcml0ZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRzKHNwcml0ZSk7XG4gICAgICAgICAgICBzcHJpdGUuX3ZlcnRzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVZlcnRzIChzcHJpdGUpIHtcbiAgICAgICAgbGV0IGZyYW1lID0gc3ByaXRlLl9zcHJpdGVGcmFtZTtcbiAgICAgICAgbGV0IHJlY3QgPSBmcmFtZS5fcmVjdDtcbiAgICAgICAgbGV0IG5vZGUgPSBzcHJpdGUubm9kZSxcbiAgICAgICAgICAgIGFwcHggPSBub2RlLmFuY2hvclggKiBub2RlLndpZHRoLCBhcHB5ID0gbm9kZS5hbmNob3JZICogbm9kZS5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IHsgcm93LCBjb2wsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCB9ID0gdGhpcztcbiAgICAgICAgbGV0IHsgeCwgeSB9ID0gdGhpcy5fbG9jYWw7XG4gICAgICAgIHgubGVuZ3RoID0geS5sZW5ndGggPSAwO1xuICAgICAgICBsZXQgbGVmdFdpZHRoID0gZnJhbWUuaW5zZXRMZWZ0LCByaWdodFdpZHRoID0gZnJhbWUuaW5zZXRSaWdodCwgY2VudGVyV2lkdGggPSByZWN0LndpZHRoIC0gbGVmdFdpZHRoIC0gcmlnaHRXaWR0aCxcbiAgICAgICAgICAgIHRvcEhlaWdodCA9IGZyYW1lLmluc2V0VG9wLCBib3R0b21IZWlnaHQgPSBmcmFtZS5pbnNldEJvdHRvbSwgY2VudGVySGVpZ2h0ID0gcmVjdC5oZWlnaHQgLSB0b3BIZWlnaHQgLSBib3R0b21IZWlnaHQ7XG4gICAgICAgIGxldCB4U2NhbGUgPSAobm9kZS53aWR0aCAvIChsZWZ0V2lkdGggKyByaWdodFdpZHRoKSkgPiAxID8gMSA6IChub2RlLndpZHRoIC8gKGxlZnRXaWR0aCArIHJpZ2h0V2lkdGgpKTtcbiAgICAgICAgbGV0IHlTY2FsZSA9IChub2RlLmhlaWdodCAvICh0b3BIZWlnaHQgKyBib3R0b21IZWlnaHQpKSA+IDEgPyAxIDogKG5vZGUuaGVpZ2h0IC8gKHRvcEhlaWdodCArIGJvdHRvbUhlaWdodCkpO1xuICAgICAgICBsZXQgb2Zmc2V0V2lkdGggPSAwLCBvZmZzZXRIZWlnaHQgPSAwO1xuICAgICAgICBpZiAoY2VudGVyV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQmVjYXVzZSB0aGUgZmxvYXQgbnVtZXJpY2FsIGNhbGN1bGF0aW9uIGluIGphdmFzY3JpcHQgaXMgbm90IGFjY3VyYXRlIGVub3VnaCwgXG4gICAgICAgICAgICAgKiB0aGVyZSBpcyBhbiBleHBlY3RlZCByZXN1bHQgb2YgMS4wLCBidXQgdGhlIGFjdHVhbCByZXN1bHQgaXMgMS4wMDAwMDEuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG9mZnNldFdpZHRoID0gTWF0aC5mbG9vcih0aGlzLnNpemFibGVXaWR0aCAqIDEwMDApIC8gMTAwMCAlIGNlbnRlcldpZHRoID09PSAwID8gY2VudGVyV2lkdGggOiB0aGlzLnNpemFibGVXaWR0aCAlIGNlbnRlcldpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0V2lkdGggPSB0aGlzLnNpemFibGVXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2VudGVySGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgb2Zmc2V0SGVpZ2h0ID0gTWF0aC5mbG9vcih0aGlzLnNpemFibGVIZWlnaHQgKiAxMDAwKSAvIDEwMDAgJSBjZW50ZXJIZWlnaHQgPT09IDAgPyBjZW50ZXJIZWlnaHQgOiB0aGlzLnNpemFibGVIZWlnaHQgJSBjZW50ZXJIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXRIZWlnaHQgPSB0aGlzLnNpemFibGVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBjb2w7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICB4W2ldID0gLSBhcHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaSA+IDAgJiYgaSA8IGNvbCkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHhbaV0gPSBsZWZ0V2lkdGggKiB4U2NhbGUgKyBNYXRoLm1pbihjZW50ZXJXaWR0aCwgdGhpcy5zaXphYmxlV2lkdGgpIC0gYXBweDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAoY29sIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4W2ldID0gbGVmdFdpZHRoICsgb2Zmc2V0V2lkdGggKyBjZW50ZXJXaWR0aCAqIChpIC0gMikgLSBhcHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeFtpXSA9IGxlZnRXaWR0aCArIE1hdGgubWluKGNlbnRlcldpZHRoLCB0aGlzLnNpemFibGVXaWR0aCkgKyBjZW50ZXJXaWR0aCAqIChpIC0gMikgLSBhcHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgeFtpXSA9IGxlZnRXaWR0aCArIHRoaXMuc2l6YWJsZVdpZHRoIC0gYXBweDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGkgPT09IGNvbCkge1xuICAgICAgICAgICAgICAgIHhbaV0gPSBNYXRoLm1pbihsZWZ0V2lkdGggKyB0aGlzLnNpemFibGVXaWR0aCArIHJpZ2h0V2lkdGgsIGNvbnRlbnRXaWR0aCkgLSBhcHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHJvdzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHlbaV0gPSAtIGFwcHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpID4gMCAmJiBpIDwgcm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgeVtpXSA9IGJvdHRvbUhlaWdodCAqIHlTY2FsZSArIE1hdGgubWluKGNlbnRlckhlaWdodCwgdGhpcy5zaXphYmxlSGVpZ2h0KSAtIGFwcHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2VudGVySGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IChyb3cgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlbaV0gPSBib3R0b21IZWlnaHQgKyBvZmZzZXRIZWlnaHQgKyAoaSAtIDIpICogY2VudGVySGVpZ2h0IC0gYXBweTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlbaV0gPSBib3R0b21IZWlnaHQgKyBNYXRoLm1pbihjZW50ZXJIZWlnaHQsIHRoaXMuc2l6YWJsZUhlaWdodCkgKyAoaSAtIDIpICogY2VudGVySGVpZ2h0IC0gYXBweTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlbaV0gPSBib3R0b21IZWlnaHQgKyB0aGlzLnNpemFibGVIZWlnaHQgLSBhcHB5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaSA9PT0gcm93KSB7XG4gICAgICAgICAgICAgICAgeVtpXSA9IE1hdGgubWluKGJvdHRvbUhlaWdodCArIHRoaXMuc2l6YWJsZUhlaWdodCArIHRvcEhlaWdodCwgY29udGVudEhlaWdodCkgLSBhcHB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVXb3JsZFZlcnRzKHNwcml0ZSk7XG4gICAgfVxuICAgIFxuICAgIHVwZGF0ZVdvcmxkVmVydHMgKHNwcml0ZSkge1xuICAgICAgICBsZXQgcmVuZGVyRGF0YSA9IHRoaXMuX3JlbmRlckRhdGE7XG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xuICAgICAgICBsZXQgbG9jYWxYID0gbG9jYWwueCwgbG9jYWxZID0gbG9jYWwueTtcbiAgICAgICAgbGV0IHdvcmxkID0gcmVuZGVyRGF0YS52RGF0YXNbMF07XG4gICAgICAgIGxldCB7IHJvdywgY29sIH0gPSB0aGlzO1xuICAgICAgICBsZXQgbWF0cml4ID0gc3ByaXRlLm5vZGUuX3dvcmxkTWF0cml4O1xuICAgICAgICBsZXQgbWF0cml4bSA9IG1hdHJpeC5tO1xuICAgICAgICBsZXQgYSA9IG1hdHJpeG1bMF0sIGIgPSBtYXRyaXhtWzFdLCBjID0gbWF0cml4bVs0XSwgZCA9IG1hdHJpeG1bNV0sXG4gICAgICAgICAgICB0eCA9IG1hdHJpeG1bMTJdLCB0eSA9IG1hdHJpeG1bMTNdO1xuXG4gICAgICAgIGxldCB4LCB4MSwgeSwgeTE7XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgICAgICBsZXQgdmVydGV4T2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgeWluZGV4ID0gMCwgeWxlbmd0aCA9IHJvdzsgeWluZGV4IDwgeWxlbmd0aDsgKyt5aW5kZXgpIHtcbiAgICAgICAgICAgIHkgPSBsb2NhbFlbeWluZGV4XTtcbiAgICAgICAgICAgIHkxID0gbG9jYWxZW3lpbmRleCArIDFdO1xuICAgICAgICAgICAgZm9yIChsZXQgeGluZGV4ID0gMCwgeGxlbmd0aCA9IGNvbDsgeGluZGV4IDwgeGxlbmd0aDsgKyt4aW5kZXgpIHtcbiAgICAgICAgICAgICAgICB4ID0gbG9jYWxYW3hpbmRleF07XG4gICAgICAgICAgICAgICAgeDEgPSBsb2NhbFhbeGluZGV4ICsgMV07XG5cbiAgICAgICAgICAgICAgICAvLyBsYlxuICAgICAgICAgICAgICAgIHdvcmxkW3ZlcnRleE9mZnNldF0gPSB4ICogYSArIHkgKiBjICsgdHg7XG4gICAgICAgICAgICAgICAgd29ybGRbdmVydGV4T2Zmc2V0ICsgMV0gPSB4ICogYiArIHkgKiBkICsgdHk7XG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gcmJcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXRdID0geDEgKiBhICsgeSAqIGMgKyB0eDtcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXQgKyAxXSA9IHgxICogYiArIHkgKiBkICsgdHk7XG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gbHRcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXRdID0geCAqIGEgKyB5MSAqIGMgKyB0eDtcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXQgKyAxXSA9IHggKiBiICsgeTEgKiBkICsgdHk7XG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gcnRcbiAgICAgICAgICAgICAgICB3b3JsZFt2ZXJ0ZXhPZmZzZXRdID0geDEgKiBhICsgeTEgKiBjICsgdHg7XG4gICAgICAgICAgICAgICAgd29ybGRbdmVydGV4T2Zmc2V0ICsgMV0gPSB4MSAqIGIgKyB5MSAqIGQgKyB0eTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQgKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVVWcyAoc3ByaXRlKSB7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdO1xuICAgICAgICBpZiAoIXZlcnRzKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBsZXQgZnJhbWUgPSBzcHJpdGUuX3Nwcml0ZUZyYW1lO1xuICAgICAgICBsZXQgcmVjdCA9IGZyYW1lLl9yZWN0O1xuICAgICAgICBsZXQgbGVmdFdpZHRoID0gZnJhbWUuaW5zZXRMZWZ0LCByaWdodFdpZHRoID0gZnJhbWUuaW5zZXRSaWdodCwgY2VudGVyV2lkdGggPSByZWN0LndpZHRoIC0gbGVmdFdpZHRoIC0gcmlnaHRXaWR0aCxcbiAgICAgICAgICAgIHRvcEhlaWdodCA9IGZyYW1lLmluc2V0VG9wLCBib3R0b21IZWlnaHQgPSBmcmFtZS5pbnNldEJvdHRvbSwgY2VudGVySGVpZ2h0ID0gcmVjdC5oZWlnaHQgLSB0b3BIZWlnaHQgLSBib3R0b21IZWlnaHQ7XG5cbiAgICAgICAgbGV0IHsgcm93LCBjb2wsIGhSZXBlYXQsIHZSZXBlYXQgfSA9IHRoaXM7XG4gICAgICAgIGxldCBjb2VmdSA9IDAsIGNvZWZ2ID0gMDtcbiAgICAgICAgbGV0IHV2ID0gc3ByaXRlLnNwcml0ZUZyYW1lLnV2O1xuICAgICAgICBsZXQgdXZTbGljZWQgPSBzcHJpdGUuc3ByaXRlRnJhbWUudXZTbGljZWQ7XG4gICAgICAgIGxldCByb3RhdGVkID0gc3ByaXRlLnNwcml0ZUZyYW1lLl9yb3RhdGVkO1xuICAgICAgICBsZXQgZmxvYXRzUGVyVmVydCA9IHRoaXMuZmxvYXRzUGVyVmVydCwgdXZPZmZzZXQgPSB0aGlzLnV2T2Zmc2V0O1xuICAgICAgICBsZXQgdGVtcFhWZXJ0cyA9IFtdLCB0ZW1wWVZlcnRzID0gW107XG4gICAgICAgIGZvciAobGV0IHlpbmRleCA9IDAsIHlsZW5ndGggPSByb3c7IHlpbmRleCA8IHlsZW5ndGg7ICsreWluZGV4KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaXphYmxlSGVpZ2h0ID4gY2VudGVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2l6YWJsZUhlaWdodCA+PSB5aW5kZXggKiBjZW50ZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29lZnYgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29lZnYgPSB2UmVwZWF0ICUgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2VmdiA9IHZSZXBlYXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCB4aW5kZXggPSAwLCB4bGVuZ3RoID0gY29sOyB4aW5kZXggPCB4bGVuZ3RoOyArK3hpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpemFibGVXaWR0aCA+IGNlbnRlcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpemFibGVXaWR0aCA+PSB4aW5kZXggKiBjZW50ZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29lZnUgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29lZnUgPSBoUmVwZWF0ICUgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29lZnUgPSBoUmVwZWF0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh5aW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbMF0gPSB1dlNsaWNlZFswXS51O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFhWZXJ0c1sxXSA9IHV2U2xpY2VkWzBdLnU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzJdID0gdXZTbGljZWRbNF0udSArICh1dlNsaWNlZFs4XS51IC0gdXZTbGljZWRbNF0udSkgKiBjb2VmdjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh5aW5kZXggPCAocm93IC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbMF0gPSB1dlNsaWNlZFs0XS51O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFhWZXJ0c1sxXSA9IHV2U2xpY2VkWzRdLnU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzJdID0gdXZTbGljZWRbNF0udSArICh1dlNsaWNlZFs4XS51IC0gdXZTbGljZWRbNF0udSkgKiBjb2VmdjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh5aW5kZXggPT09IChyb3cgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFhWZXJ0c1swXSA9IHV2U2xpY2VkWzhdLnU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzFdID0gdXZTbGljZWRbOF0udTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbMl0gPSB1dlNsaWNlZFsxMl0udTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzBdID0gdXZTbGljZWRbMF0udjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBZVmVydHNbMV0gPSB1dlNsaWNlZFsxXS52ICsgKHV2U2xpY2VkWzJdLnYgLSB1dlNsaWNlZFsxXS52KSAqIGNvZWZ1O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1syXSA9IHV2U2xpY2VkWzBdLnY7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeGluZGV4IDwgKGNvbCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzBdID0gdXZTbGljZWRbMV0udjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBZVmVydHNbMV0gPSB1dlNsaWNlZFsxXS52ICsgKHV2U2xpY2VkWzJdLnYgLSB1dlNsaWNlZFsxXS52KSAqIGNvZWZ1O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1syXSA9IHV2U2xpY2VkWzFdLnY7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeGluZGV4ID09PSAoY29sIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBZVmVydHNbMF0gPSB1dlNsaWNlZFsyXS52O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1sxXSA9IHV2U2xpY2VkWzNdLnY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzJdID0gdXZTbGljZWRbMl0udjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzNdID0gdGVtcFhWZXJ0c1syXTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1szXSA9IHRlbXBZVmVydHNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzBdID0gdXZTbGljZWRbMF0udTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbMV0gPSB1dlNsaWNlZFsxXS51ICsgKHV2U2xpY2VkWzJdLnUgLSB1dlNsaWNlZFsxXS51KSAqIGNvZWZ1O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFhWZXJ0c1syXSA9IHV2WzBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHhpbmRleCA8IChjb2wgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFhWZXJ0c1swXSA9IHV2U2xpY2VkWzFdLnU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzFdID0gdXZTbGljZWRbMV0udSArICh1dlNsaWNlZFsyXS51IC0gdXZTbGljZWRbMV0udSkgKiBjb2VmdTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbMl0gPSB1dlNsaWNlZFsxXS51O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHhpbmRleCA9PT0gKGNvbCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWFZlcnRzWzBdID0gdXZTbGljZWRbMl0udTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbMV0gPSB1dlNsaWNlZFszXS51O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFhWZXJ0c1syXSA9IHV2U2xpY2VkWzJdLnU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHlpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1swXSA9IHV2U2xpY2VkWzBdLnY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzFdID0gdXZTbGljZWRbMF0udjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBZVmVydHNbMl0gPSB1dlNsaWNlZFs0XS52ICsgKHV2U2xpY2VkWzhdLnYgLSB1dlNsaWNlZFs0XS52KSAqIGNvZWZ2O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHlpbmRleCA8IChyb3cgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1swXSA9IHV2U2xpY2VkWzRdLnY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzFdID0gdXZTbGljZWRbNF0udjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBZVmVydHNbMl0gPSB1dlNsaWNlZFs0XS52ICsgKHV2U2xpY2VkWzhdLnYgLSB1dlNsaWNlZFs0XS52KSAqIGNvZWZ2O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHlpbmRleCA9PT0gKHJvdyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzBdID0gdXZTbGljZWRbOF0udjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBZVmVydHNbMV0gPSB1dlNsaWNlZFs4XS52O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFlWZXJ0c1syXSA9IHV2U2xpY2VkWzEyXS52O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlbXBYVmVydHNbM10gPSB0ZW1wWFZlcnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wWVZlcnRzWzNdID0gdGVtcFlWZXJ0c1syXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbGJcbiAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB0ZW1wWFZlcnRzWzBdO1xuICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB0ZW1wWVZlcnRzWzBdO1xuICAgICAgICAgICAgICAgIHV2T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gcmJcbiAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB0ZW1wWFZlcnRzWzFdO1xuICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB0ZW1wWVZlcnRzWzFdO1xuICAgICAgICAgICAgICAgIHV2T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gbHRcbiAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB0ZW1wWFZlcnRzWzJdO1xuICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB0ZW1wWVZlcnRzWzJdO1xuICAgICAgICAgICAgICAgIHV2T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAgICAgLy8gcnRcbiAgICAgICAgICAgICAgICB2ZXJ0c1t1dk9mZnNldF0gPSB0ZW1wWFZlcnRzWzNdO1xuICAgICAgICAgICAgICAgIHZlcnRzW3V2T2Zmc2V0ICsgMV0gPSB0ZW1wWVZlcnRzWzNdO1xuICAgICAgICAgICAgICAgIHV2T2Zmc2V0ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiJdLCJzb3VyY2VSb290IjoiLyJ9